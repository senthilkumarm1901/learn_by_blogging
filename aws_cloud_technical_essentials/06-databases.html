<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Senthil Kumar">

<title>06. Databases – A Visual Refresher on AWS Cloud Fundamentals</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./07-monitoring.html" rel="next">
<link href="./05-storage.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-81f4e0afb081e06e81c4a64780ea28a8.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./06-databases.html"><span class="chapter-title">06. Databases</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">A Visual Refresher on AWS Cloud Fundamentals</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">A Visual Refresher on AWS Cloud Fundamentals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">1. Introduction to AWS</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-security.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">02. Security</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-compute.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">03. Compute</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-networking.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">04. Networking</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-storage.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">05. Storage</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-databases.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">06. Databases</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-monitoring.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">07. Monitoring</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-optimization.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">08. Optimization</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-references-disclosure.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Disclosure</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#databases-in-aws" id="toc-databases-in-aws" class="nav-link active" data-scroll-target="#databases-in-aws">6. Databases in AWS</a>
  <ul class="collapse">
  <li><a href="#databases-in-aws-1" id="toc-databases-in-aws-1" class="nav-link" data-scroll-target="#databases-in-aws-1">Databases in AWS</a>
  <ul class="collapse">
  <li><a href="#database-vs-data-warehouse-vs-data-lake" id="toc-database-vs-data-warehouse-vs-data-lake" class="nav-link" data-scroll-target="#database-vs-data-warehouse-vs-data-lake">Database vs Data Warehouse vs Data Lake</a></li>
  <li><a href="#are-aws-databases-always-on-ec2-whats-with-db.xxx" id="toc-are-aws-databases-always-on-ec2-whats-with-db.xxx" class="nav-link" data-scroll-target="#are-aws-databases-always-on-ec2-whats-with-db.xxx">Are AWS databases always on EC2? What’s with <code>db.xxx</code>?</a></li>
  <li><a href="#postgresql-on-aws-self-managed-vs-managed" id="toc-postgresql-on-aws-self-managed-vs-managed" class="nav-link" data-scroll-target="#postgresql-on-aws-self-managed-vs-managed">PostgreSQL on AWS: self-managed vs managed</a></li>
  </ul></li>
  <li><a href="#managed-databases-in-aws" id="toc-managed-databases-in-aws" class="nav-link" data-scroll-target="#managed-databases-in-aws">Managed databases in AWS</a></li>
  <li><a href="#decisions-to-make-when-choosing-a-db" id="toc-decisions-to-make-when-choosing-a-db" class="nav-link" data-scroll-target="#decisions-to-make-when-choosing-a-db">Decisions to make when choosing a DB</a></li>
  <li><a href="#where-database-instances-sit-in-aws-networking" id="toc-where-database-instances-sit-in-aws-networking" class="nav-link" data-scroll-target="#where-database-instances-sit-in-aws-networking">Where database instances sit in AWS networking</a>
  <ul class="collapse">
  <li><a href="#rds-lies-inside-vpc-private-subnet" id="toc-rds-lies-inside-vpc-private-subnet" class="nav-link" data-scroll-target="#rds-lies-inside-vpc-private-subnet">RDS lies inside VPC Private Subnet</a></li>
  </ul></li>
  <li><a href="#backups-in-rds" id="toc-backups-in-rds" class="nav-link" data-scroll-target="#backups-in-rds">Backups in RDS</a></li>
  <li><a href="#redundancy-in-rds-via-multiple-availability-zones" id="toc-redundancy-in-rds-via-multiple-availability-zones" class="nav-link" data-scroll-target="#redundancy-in-rds-via-multiple-availability-zones">Redundancy in RDS via Multiple Availability Zones</a></li>
  <li><a href="#encrypting-ebs-volumes-used-by-ec2-workloads" id="toc-encrypting-ebs-volumes-used-by-ec2-workloads" class="nav-link" data-scroll-target="#encrypting-ebs-volumes-used-by-ec2-workloads">Encrypting EBS volumes used by EC2 workloads</a></li>
  <li><a href="#dynamodb-essentials" id="toc-dynamodb-essentials" class="nav-link" data-scroll-target="#dynamodb-essentials">DynamoDB essentials</a></li>
  <li><a href="#quiz-reference" id="toc-quiz-reference" class="nav-link" data-scroll-target="#quiz-reference">Quiz reference</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-title">06. Databases</span></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Senthil Kumar </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="databases-in-aws" class="level1">
<h1>6. Databases in AWS</h1>
<section id="databases-in-aws-1" class="level2">
<h2 class="anchored" data-anchor-id="databases-in-aws-1">Databases in AWS</h2>
<section id="database-vs-data-warehouse-vs-data-lake" class="level3">
<h3 class="anchored" data-anchor-id="database-vs-data-warehouse-vs-data-lake">Database vs Data Warehouse vs Data Lake</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  Q((Where is&lt;br&gt;data stored?))
  A1[[Database]]
  A2[[Data Warehouse]]
  A3[[Data Lake]]

  P1((for OLTP))
  P2((for OLAP))
  P3((for storing raw data))

  E1[Amazon RDS&lt;br&gt;for an e-commerce&lt;br&gt;application]
  E2[Amazon Redshift&lt;br&gt;to query and analyze &lt;br&gt;vast amounts of &lt;br&gt;structured data&lt;br&gt;quickly and efficiently.]
  E3[Amazon S3&lt;br&gt;for storing vast amounts of&lt;br&gt;unstructured raw data]

  Q --&gt; A1 
  Q --&gt; A2
  Q --&gt; A3

  A1 --&gt; P1 --&gt; E1
  A2 --&gt; P2 --&gt; E2
  A3 --&gt; P3 --&gt; E3   

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>A quick way to choose the right “data home” in AWS:</p>
<ul>
<li>A <strong>database</strong> is optimized for application transactions and frequent reads/writes (OLTP). Common AWS picks are <strong>Amazon RDS</strong> (relational) and <strong>Amazon DynamoDB</strong> (NoSQL).</li>
<li>A <strong>data warehouse</strong> is optimized for analytics across large, structured datasets (OLAP). In AWS, this is commonly <strong>Amazon Redshift</strong>.</li>
<li>A <strong>data lake</strong> is a flexible storage layer for raw structured, semi-structured, and unstructured data. In AWS, this is typically <strong>Amazon S3</strong>, queried/processed later with services like Athena/Glue/EMR.</li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 12%">
<col style="width: 27%">
<col style="width: 25%">
<col style="width: 34%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Database (RDS/DynamoDB)</th>
<th>Data Warehouse (Redshift)</th>
<th>Data Lake (S3)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Primary Use</strong></td>
<td>Transactional (OLTP)</td>
<td>Analytical (OLAP)</td>
<td>Store raw data, Big Data</td>
</tr>
<tr class="even">
<td><strong>Data Type</strong></td>
<td>Structured</td>
<td>Structured, Semi-structured</td>
<td>Structured, Semi-structured, Unstructured</td>
</tr>
<tr class="odd">
<td><strong>Processing</strong></td>
<td>Real-time transactions</td>
<td>Aggregated, Complex queries</td>
<td>Data exploration, batch processing</td>
</tr>
<tr class="even">
<td><strong>AWS Service</strong></td>
<td>Amazon RDS, DynamoDB</td>
<td>Amazon Redshift</td>
<td>Amazon S3</td>
</tr>
<tr class="odd">
<td><strong>Example</strong></td>
<td>E-commerce apps, customer orders</td>
<td>Business analytics, dashboards</td>
<td>Raw data for analytics, ML</td>
</tr>
</tbody>
</table>
</section>
<section id="are-aws-databases-always-on-ec2-whats-with-db.xxx" class="level3">
<h3 class="anchored" data-anchor-id="are-aws-databases-always-on-ec2-whats-with-db.xxx">Are AWS databases always on EC2? What’s with <code>db.xxx</code>?</h3>
<ul>
<li>Many AWS databases are <strong>managed services</strong>, where you don’t manage servers directly.</li>
<li>Some managed services still use underlying compute, but you interact through the service layer, not the EC2 instances.</li>
<li>The <code>db.</code> prefix commonly shows up as an <strong>RDS/Aurora instance class naming convention</strong> (example style: <code>db.t3.medium</code>), not as a universal AWS database naming rule.</li>
</ul>
</section>
<section id="postgresql-on-aws-self-managed-vs-managed" class="level3">
<h3 class="anchored" data-anchor-id="postgresql-on-aws-self-managed-vs-managed">PostgreSQL on AWS: self-managed vs managed</h3>
<ul>
<li><strong>Self-managed on EC2</strong> gives full control (install/patch/backup/tune yourself), useful for highly custom setups.</li>
<li><strong>Managed PostgreSQL</strong> (Amazon RDS for PostgreSQL or Aurora PostgreSQL-compatible) reduces operational overhead with built-in management features, at the cost of some constraints on customization.</li>
</ul>
</section>
</section>
<section id="managed-databases-in-aws" class="level2">
<h2 class="anchored" data-anchor-id="managed-databases-in-aws">Managed databases in AWS</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  DB((Databases))
  ADB[Databases in AWS]   
  M[AWS Managed Databases]
  UM[Self Managed Databases]
  OP[On-Prem Database]
  SM[Self-managed Database on Amazon EC2]

  M1[Amazon RDS]
  M2[Amazon Aurora]
  M3[Amazon DynamoDB]
  M4[Amazon Redshift]

  REL((Releational DB))   
  MEX1[MySQL]
  MEX2[PostgreSQL]
  MEX3[MariaDB]
  MEX4[SQLServer]
  MEX5[Oracle]

  MAA1[Aurora MySQL]
  MAA2[Aurora PostgreSQL]

  MAAP1((5x faster than RDS))
  MAAP2[Aurora Serverless]

  NOREL((NoSQL DB))   
  
  DDB1((Serverless))
  BOTH1((Charges based on usage and storage))
  BOTH2((High Availability))
  BOTH3((High Durable))
  BOTH4((Because: SSD-backed Instances))

  DB --&gt; ADB
  DB --&gt; OP

  ADB --&gt; M
  ADB --&gt; UM
  ADB --&gt; SM
  M --&gt; M1
  M --&gt; M2
  M --&gt; M3
  M --&gt; M4
  
  M1 --&gt; REL --&gt; MEX1
  REL --&gt; MEX2
  REL --&gt; MEX3
  REL --&gt; MEX4
  REL --&gt; MEX5

  M2 --&gt; MAA1 --&gt; MAAP1 
  M2 --&gt; MAA2 --&gt; MAAP1
  M2 --&gt; MAA1 --&gt; MAAP2
  M2 --&gt; MAA2 --&gt; MAAP2   
  MAAP2 --&gt; BOTH1
  BOTH2 --&gt; BOTH4
  BOTH3 --&gt; BOTH4

  M3 --&gt; NOREL --&gt; DDB1 --&gt; BOTH1 
  DDB1 --&gt; BOTH2 
  DDB1 --&gt; BOTH3
  MAAP2 --&gt; BOTH2 
  MAAP2 --&gt; BOTH3
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<blockquote class="blockquote">
<ul>
<li>In AWS one would generally choose AWS managed options like <strong>RDS/Aurora/DynamoDB/Redshift</strong> than installing and operating databases yourself on <strong>EC2</strong>.</li>
</ul>
</blockquote>
</section>
<section id="decisions-to-make-when-choosing-a-db" class="level2">
<h2 class="anchored" data-anchor-id="decisions-to-make-when-choosing-a-db">Decisions to make when choosing a DB</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TB
  DB[Choices&lt;br&gt;in Selecing a DB&lt;br&gt;in AWS]
  ENG[Engine]
  STORAGE[Storage]
  COMPUTE[Compute]  

  ENG1((Commercial))
  ENG2((Open Source))
  ENG3((AWS Native))

  ENG1A[[Oracle&lt;br&gt;SQLServer]]
  ENG2A[[MySQL&lt;br&gt;PostgreSQL]]
  ENG3A[[Amazon Aurora]]

  
  STORAGE1[[EBS Volumes for RDS]]
  COMPUTE1[[Compute Instance &lt;br&gt;Size and Family &lt;br&gt;&lt;br&gt;db.xx?]]   

  TYPE1[Standard&lt;br&gt; &lt;code&gt;m&lt;/code&gt; classes?]
  TYPE2[Memory&lt;br&gt;Optimized&lt;br&gt;&lt;code&gt;r&lt;/code&gt; and &lt;code&gt;x` classes?]
  TYPE3[Burstable&lt;br&gt;&lt;code&gt;t&lt;/code&gt; classes?]

  S1[SSD?]
  S2[HDD?]
  S3[Magnetic Storage?] 

  DB --&gt; ENG --&gt; ENG1
  ENG --&gt; ENG2
  ENG --&gt; ENG3

  ENG1 --&gt; ENG1A
  ENG2 --&gt; ENG2A
  ENG3 --&gt; ENG3A

  DB --&gt; STORAGE --&gt; STORAGE1
  DB --&gt; COMPUTE --&gt; COMPUTE1

  STORAGE1 --&gt; S1
  STORAGE1 --&gt; S2
  STORAGE1 --&gt; S3   

  COMPUTE1 --&gt; TYPE1
  COMPUTE1 --&gt; TYPE2
  COMPUTE1 --&gt; TYPE3
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Practical selection checklist:</p>
<ul>
<li>Pick the <strong>engine</strong> based on compatibility, licensing, and operational preference (commercial vs open-source vs AWS-native).</li>
<li>Pick the <strong>storage</strong> and <strong>compute class</strong> based on workload shape:
<ul>
<li>“Standard” for balanced workloads</li>
<li>“Memory optimized” for heavy caching/large working sets</li>
<li>“Burstable” for spiky, low-to-moderate average usage</li>
</ul></li>
<li>Align storage media (SSD/HDD) with latency and throughput needs.</li>
</ul>
</section>
<section id="where-database-instances-sit-in-aws-networking" class="level2">
<h2 class="anchored" data-anchor-id="where-database-instances-sit-in-aws-networking">Where database instances sit in AWS networking</h2>
<section id="rds-lies-inside-vpc-private-subnet" class="level3">
<h3 class="anchored" data-anchor-id="rds-lies-inside-vpc-private-subnet">RDS lies inside VPC Private Subnet</h3>
<p><img src="./images/dbs_inside_private_subnet.png" class="img-fluid"></p>
<p>Amazon RDS is <strong>deployed into your VPC</strong> (into subnets you choose via a DB subnet group), so it behaves like a <strong>VPC resource</strong>: it gets private IPs and is governed by <strong>VPC routing + security groups</strong>.</p>
<ul>
<li><p>The primary control plane for “who can connect” is the <strong>VPC security group</strong> attached to the DB instance. You typically allow inbound DB ports only from your app tier’s security group (or a tight CIDR), not from the open internet.</p></li>
<li><p>If the DB is <strong>not publicly accessible</strong>, clients from outside the VPC need a private connectivity path (VPN/Direct Connect/Client VPN, or other private network patterns). ### Dynamo DB lies outside VPC</p></li>
<li><p><strong>DynamoDB is a regional AWS service, not placed “inside” your VPC</strong> like RDS. Your app talks to DynamoDB’s regional endpoint over HTTPS.</p></li>
<li><p>A <strong>VPC endpoint is not required</strong> if your compute already has a path to reach AWS public service endpoints (for example: Lambda not in a VPC, or instances in a public subnet, or private subnets with NAT/egress). In those cases, calls to DynamoDB work without you creating an endpoint.</p></li>
<li><p>A <strong>VPC endpoint becomes important when your compute runs inside a VPC private subnet and you want private connectivity without NAT/Internet egress</strong>. AWS explicitly documents that a <strong>gateway VPC endpoint</strong> lets you access DynamoDB from your VPC “without requiring an internet gateway or NAT device” and that you add it as a route-table target.</p></li>
<li><p>AWS guidance for Lambda-in-VPC patterns similarly calls out creating a <strong>gateway endpoint for DynamoDB</strong> and updating the private subnet route table to use it.</p></li>
<li><p>From a security best-practice angle, your internal security notes also recommend <strong>using VPC endpoints to access DynamoDB</strong>.</p></li>
<li><p>DynamoDB doesn’t live in your VPC.</p></li>
<li><p>If you need <strong>private subnet → DynamoDB</strong> access <em>without</em> NAT/internet egress (and often to reduce NAT cost / keep traffic on AWS network), use a <strong>DynamoDB VPC endpoint</strong> (gateway endpoint is the common choice for in-VPC access).</p></li>
</ul>
<p><img src="./images/dynamo_DB_lies_outside_vpc.png" class="img-fluid"></p>
<ul>
<li>Use <strong>no endpoint</strong> when your runtime already has outbound access to AWS public endpoints.</li>
<li>Use a <strong>gateway VPC endpoint</strong> when your runtime is in <strong>private subnets</strong> and you want <strong>no NAT/IGW dependency</strong> for DynamoDB traffic.</li>
</ul>
<p>High-level intuition:</p>
<ul>
<li><strong>RDS</strong> is deployed into your VPC (commonly private subnets).</li>
<li><strong>DynamoDB</strong> is a regional managed service that’s not “inside” your VPC like an EC2 instance; private access patterns typically rely on networking constructs</li>
</ul>
</section>
</section>
<section id="backups-in-rds" class="level2">
<h2 class="anchored" data-anchor-id="backups-in-rds">Backups in RDS</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  B((Backups))
  A((Automated Backups))
  M((Manual Snapshots))

  K((Keep backups&lt;br&gt;for 0 to 35 days))
  ZERO((0 days means&lt;br&gt;no backup))   
  E((Enables in&lt;br&gt;point-in-time&lt;br&gt;recovery))

  P((For storage&lt;br&gt;longer than 35 days))

  Q((Which backup&lt;br&gt;to use))
  ANS((Both Automated &amp;&lt;br&gt;Manual combo))   

  B --&gt; A
  B --&gt; M

  A --&gt; K --&gt; ZERO --&gt; E

  M --&gt; P

  B --&gt; Q --&gt; ANS
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Essentials:</p>
<ul>
<li><strong>Automated backups</strong> support point-in-time recovery within the configured retention window.</li>
<li><strong>Manual snapshots</strong> are useful for keeping backups longer than the automated retention period.</li>
<li>A practical approach is using <strong>both</strong>: automated backups for operational recovery, snapshots for long-term retention or milestones.</li>
</ul>
</section>
<section id="redundancy-in-rds-via-multiple-availability-zones" class="level2">
<h2 class="anchored" data-anchor-id="redundancy-in-rds-via-multiple-availability-zones">Redundancy in RDS via Multiple Availability Zones</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  RDS[[Amazon RDS]]
  subgraph AZ1
     subgraph subnetA
       C1[[Copy 1 of RDS]]
     end
  end

  subgraph AZ2
    subgraph subnetB
      C2[[Copy 2 of RDS]]
    end
  end
  RDS --&gt; C1
  RDS --&gt; C2
  %% Apply bright yellow background to subgraphs
  style AZ1 fill:#FFFF00,stroke:#333,stroke-width:2px
  style AZ2 fill:#FFFF00,stroke:#333,stroke-width:2px
  style subnetA fill:#FFFF00,stroke:#333,stroke-width:2px
  style subnetB fill:#FFFF00,stroke:#333,stroke-width:2px
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ul>
<li>Multi-AZ deployments aim at improved resilience through cross-AZ redundancy.</li>
<li>Multi AZ deployment ensure <code>High Availability</code> and <code>High Durability</code></li>
</ul>
</section>
<section id="encrypting-ebs-volumes-used-by-ec2-workloads" class="level2">
<h2 class="anchored" data-anchor-id="encrypting-ebs-volumes-used-by-ec2-workloads">Encrypting EBS volumes used by EC2 workloads</h2>
<blockquote class="blockquote">
<p>Consider this scenario: You are a cloud engineer who works at a company that uses Amazon Elastic Compute Cloud (Amazon EC2) instances and Amazon Elastic Block Store (Amazon EBS) volumes. The company is currently using unencrypted EBS volumes. You are tasked with migrating the data on these unencrypted EBS volumes to encrypted EBS volumes. What steps can you take to migrate the data to encrypted EBS volumes?</p>
</blockquote>
<pre><code>To migrate data from unencrypted to encrypted Amazon EBS volumes, follow these steps:

1. Create a snapshot of the unencrypted EBS volume.
2. Copy the snapshot, and during the copy process, select the option to encrypt the snapshot.
3. Once the encrypted snapshot is created, create a new EBS volume from the encrypted snapshot.
4. Detach the unencrypted volume from the EC2 instance.
5. Attach the new encrypted volume to the EC2 instance in place of the original.

This ensures seamless migration of data from unencrypted to encrypted EBS volumes without downtime.</code></pre>
<p>Source: One of the answers from a Cousera Forum</p>
</section>
<section id="dynamodb-essentials" class="level2">
<h2 class="anchored" data-anchor-id="dynamodb-essentials">DynamoDB essentials</h2>
<ul>
<li>Amazon DynamoDB is a fully managed NoSQL database service.</li>
<li>It scales to handle large request volumes and large datasets.</li>
<li>Data is stored as key-value style items with flexible attributes.</li>
</ul>
<table class="caption-top table">
<thead>
<tr class="header">
<th>RDS</th>
<th>NoSQL DB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Table</td>
</tr>
<tr class="even">
<td>Row/Record</td>
<td>Item</td>
</tr>
<tr class="odd">
<td>Column</td>
<td>Attribute</td>
</tr>
</tbody>
</table>
<p>Like a <code>primary column</code> in RDS, a <code>primary attribute</code> is needed in Dynamo DB. An item could have any number of attributes</p>
</section>
<section id="quiz-reference" class="level2">
<h2 class="anchored" data-anchor-id="quiz-reference">Quiz reference</h2>
<p><a href="https://github.com/salimt/Courses-/blob/master/AWS%20Cloud%20Solutions%20Architect%20Professional/c01-%20AWS%20Cloud%20Technical%20Essentials/w3-%20AWS%20Storage%20and%20Databases/Week%203%20Quiz%20_%20Coursera.pdf">Database Quiz</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./05-storage.html" class="pagination-link" aria-label="05. Storage">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">05. Storage</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./07-monitoring.html" class="pagination-link" aria-label="07. Monitoring">
        <span class="nav-page-text"><span class="chapter-title">07. Monitoring</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>