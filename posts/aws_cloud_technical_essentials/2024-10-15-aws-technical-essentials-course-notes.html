<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Senthil Kumar">
<meta name="dcterms.date" content="2024-10-15">
<meta name="description" content="In this blog, I cover my learnings from the Coursera-AWS course titled AWS Cloud Technical Essentials">

<title>What I Learned About AWS Fundamentals from a Coursera Course – Learn by Blogging</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-44d439249bacb078cfa464a9d8f3ac0a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Learn by Blogging</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/senthilkumarm1901"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/senthilkumarm1901"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">What I Learned About AWS Fundamentals from a Coursera Course</h1>
                  <div>
        <div class="description">
          In this blog, I cover my learnings from the Coursera-AWS course titled AWS Cloud Technical Essentials
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">AWS</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Senthil Kumar </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 15, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction-to-aws" id="toc-introduction-to-aws" class="nav-link active" data-scroll-target="#introduction-to-aws">1. Introduction to AWS</a>
  <ul class="collapse">
  <li><a href="#introduction-to-aws---the-critical-elements" id="toc-introduction-to-aws---the-critical-elements" class="nav-link" data-scroll-target="#introduction-to-aws---the-critical-elements">1. Introduction to AWS - The Critical Elements</a>
  <ul class="collapse">
  <li><a href="#choose-the-right-aws-region" id="toc-choose-the-right-aws-region" class="nav-link" data-scroll-target="#choose-the-right-aws-region">Choose the Right AWS Region</a></li>
  <li><a href="#availability-zones" id="toc-availability-zones" class="nav-link" data-scroll-target="#availability-zones">Availability Zones</a></li>
  <li><a href="#scope-of-aws-services" id="toc-scope-of-aws-services" class="nav-link" data-scroll-target="#scope-of-aws-services">Scope of AWS Services</a></li>
  <li><a href="#maintain-resiliency" id="toc-maintain-resiliency" class="nav-link" data-scroll-target="#maintain-resiliency">Maintain Resiliency</a></li>
  <li><a href="#security-and-the-aws-shared-responsibility-model" id="toc-security-and-the-aws-shared-responsibility-model" class="nav-link" data-scroll-target="#security-and-the-aws-shared-responsibility-model">Security and the AWS Shared Responsibility Model</a></li>
  </ul></li>
  <li><a href="#protect-the-aws-root-user" id="toc-protect-the-aws-root-user" class="nav-link" data-scroll-target="#protect-the-aws-root-user">Protect the AWS Root User</a>
  <ul class="collapse">
  <li><a href="#authentication-vs-authorization" id="toc-authentication-vs-authorization" class="nav-link" data-scroll-target="#authentication-vs-authorization">Authentication vs Authorization</a></li>
  <li><a href="#aws-root-user" id="toc-aws-root-user" class="nav-link" data-scroll-target="#aws-root-user">AWS Root User</a></li>
  <li><a href="#root-user-best-practices" id="toc-root-user-best-practices" class="nav-link" data-scroll-target="#root-user-best-practices">Root User Best Practices</a></li>
  <li><a href="#why-mfa-matters" id="toc-why-mfa-matters" class="nav-link" data-scroll-target="#why-mfa-matters">Why MFA Matters</a></li>
  </ul></li>
  <li><a href="#control-plane-apis-and-data-plane-apis-in-aws" id="toc-control-plane-apis-and-data-plane-apis-in-aws" class="nav-link" data-scroll-target="#control-plane-apis-and-data-plane-apis-in-aws">Control Plane APIs and Data Plane APIs in AWS</a></li>
  <li><a href="#summary-every-aws-activity-is-an-api-call" id="toc-summary-every-aws-activity-is-an-api-call" class="nav-link" data-scroll-target="#summary-every-aws-activity-is-an-api-call">Summary: Every AWS Activity Is an API Call</a></li>
  </ul></li>
  <li><a href="#security" id="toc-security" class="nav-link" data-scroll-target="#security">2. Security</a>
  <ul class="collapse">
  <li><a href="#introduction-to-aws-identity-and-access-management" id="toc-introduction-to-aws-identity-and-access-management" class="nav-link" data-scroll-target="#introduction-to-aws-identity-and-access-management">2.1 Introduction to AWS Identity and Access Management</a>
  <ul class="collapse">
  <li><a href="#what-is-iam" id="toc-what-is-iam" class="nav-link" data-scroll-target="#what-is-iam">WHAT IS IAM?</a></li>
  <li><a href="#get-to-know-the-iam-features" id="toc-get-to-know-the-iam-features" class="nav-link" data-scroll-target="#get-to-know-the-iam-features">GET TO KNOW THE IAM FEATURES</a></li>
  <li><a href="#what-is-an-iam-user" id="toc-what-is-an-iam-user" class="nav-link" data-scroll-target="#what-is-an-iam-user">WHAT IS AN IAM USER?</a></li>
  <li><a href="#iam-user-credentials" id="toc-iam-user-credentials" class="nav-link" data-scroll-target="#iam-user-credentials">IAM USER CREDENTIALS</a></li>
  <li><a href="#what-is-an-iam-group" id="toc-what-is-an-iam-group" class="nav-link" data-scroll-target="#what-is-an-iam-group">WHAT IS AN IAM GROUP?</a></li>
  <li><a href="#what-is-an-iam-policy" id="toc-what-is-an-iam-policy" class="nav-link" data-scroll-target="#what-is-an-iam-policy">WHAT IS AN IAM POLICY?</a></li>
  <li><a href="#iam-policy-examples" id="toc-iam-policy-examples" class="nav-link" data-scroll-target="#iam-policy-examples">IAM POLICY EXAMPLES</a></li>
  <li><a href="#understand-policy-structure" id="toc-understand-policy-structure" class="nav-link" data-scroll-target="#understand-policy-structure">UNDERSTAND POLICY STRUCTURE</a></li>
  </ul></li>
  <li><a href="#role-based-access-in-aws" id="toc-role-based-access-in-aws" class="nav-link" data-scroll-target="#role-based-access-in-aws">2.2 Role Based Access in AWS</a>
  <ul class="collapse">
  <li><a href="#summarizing-the-sections-2.1-and-2.2" id="toc-summarizing-the-sections-2.1-and-2.2" class="nav-link" data-scroll-target="#summarizing-the-sections-2.1-and-2.2">2.3 Summarizing the sections 2.1 and 2.2:</a></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"><img src="./images/different_groups_different_permissions.png" class="img-fluid"></a>
  <ul class="collapse">
  <li><a href="#week-1s-quiz" id="toc-week-1s-quiz" class="nav-link" data-scroll-target="#week-1s-quiz">2.4 Week 1’s Quiz:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#compute-as-a-service" id="toc-compute-as-a-service" class="nav-link" data-scroll-target="#compute-as-a-service">3. Compute as a Service</a>
  <ul class="collapse">
  <li><a href="#introduction-to-compute-options-in-aws" id="toc-introduction-to-compute-options-in-aws" class="nav-link" data-scroll-target="#introduction-to-compute-options-in-aws">3.1 Introduction to Compute Options in AWS</a>
  <ul class="collapse">
  <li><a href="#understanding-servers" id="toc-understanding-servers" class="nav-link" data-scroll-target="#understanding-servers">Understanding Servers</a></li>
  <li><a href="#choose-the-right-compute-option" id="toc-choose-the-right-compute-option" class="nav-link" data-scroll-target="#choose-the-right-compute-option">Choose the Right Compute Option</a></li>
  </ul></li>
  <li><a href="#amazon-elastic-compute-cloud-ec2" id="toc-amazon-elastic-compute-cloud-ec2" class="nav-link" data-scroll-target="#amazon-elastic-compute-cloud-ec2">3.2 Amazon Elastic Compute Cloud (EC2)</a>
  <ul class="collapse">
  <li><a href="#amazon-machine-image-ami" id="toc-amazon-machine-image-ami" class="nav-link" data-scroll-target="#amazon-machine-image-ami">Amazon Machine Image (AMI)</a></li>
  <li><a href="#where-can-you-find-amis" id="toc-where-can-you-find-amis" class="nav-link" data-scroll-target="#where-can-you-find-amis">Where Can You Find AMIs?</a></li>
  </ul></li>
  <li><a href="#types-of-ec2-instances" id="toc-types-of-ec2-instances" class="nav-link" data-scroll-target="#types-of-ec2-instances">3.3 Types of EC2 Instances</a></li>
  <li><a href="#container-services-on-aws" id="toc-container-services-on-aws" class="nav-link" data-scroll-target="#container-services-on-aws">3.3 Container Services on AWS</a>
  <ul class="collapse">
  <li><a href="#docker" id="toc-docker" class="nav-link" data-scroll-target="#docker">Docker</a></li>
  <li><a href="#orchestrate-containers" id="toc-orchestrate-containers" class="nav-link" data-scroll-target="#orchestrate-containers">Orchestrate Containers</a></li>
  </ul></li>
  <li><a href="#amazon-elastic-container-service-ecs" id="toc-amazon-elastic-container-service-ecs" class="nav-link" data-scroll-target="#amazon-elastic-container-service-ecs">Amazon Elastic Container Service (ECS)</a>
  <ul class="collapse">
  <li><a href="#ecs-agent" id="toc-ecs-agent" class="nav-link" data-scroll-target="#ecs-agent">ECS Agent</a></li>
  <li><a href="#task-definition" id="toc-task-definition" class="nav-link" data-scroll-target="#task-definition">Task Definition</a></li>
  <li><a href="#ecs-summary" id="toc-ecs-summary" class="nav-link" data-scroll-target="#ecs-summary">ECS Summary</a></li>
  </ul></li>
  <li><a href="#amazon-elastic-kubernetes-service-eks" id="toc-amazon-elastic-kubernetes-service-eks" class="nav-link" data-scroll-target="#amazon-elastic-kubernetes-service-eks">Amazon Elastic Kubernetes Service (EKS)</a>
  <ul class="collapse">
  <li><a href="#ecs-vs-eks-terminology" id="toc-ecs-vs-eks-terminology" class="nav-link" data-scroll-target="#ecs-vs-eks-terminology">ECS vs EKS Terminology</a></li>
  </ul></li>
  <li><a href="#serverless-and-aws-lambda" id="toc-serverless-and-aws-lambda" class="nav-link" data-scroll-target="#serverless-and-aws-lambda">3.4 Serverless and AWS Lambda</a>
  <ul class="collapse">
  <li><a href="#remove-undifferentiated-heavy-lifting" id="toc-remove-undifferentiated-heavy-lifting" class="nav-link" data-scroll-target="#remove-undifferentiated-heavy-lifting">Remove Undifferentiated Heavy Lifting</a></li>
  <li><a href="#serverless-characteristics" id="toc-serverless-characteristics" class="nav-link" data-scroll-target="#serverless-characteristics">Serverless Characteristics</a></li>
  </ul></li>
  <li><a href="#aws-fargate" id="toc-aws-fargate" class="nav-link" data-scroll-target="#aws-fargate">AWS Fargate</a></li>
  <li><a href="#aws-lambda" id="toc-aws-lambda" class="nav-link" data-scroll-target="#aws-lambda">AWS Lambda</a>
  <ul class="collapse">
  <li><a href="#lambda-function-structure" id="toc-lambda-function-structure" class="nav-link" data-scroll-target="#lambda-function-structure">Lambda Function Structure</a></li>
  <li><a href="#billing" id="toc-billing" class="nav-link" data-scroll-target="#billing">Billing</a></li>
  </ul></li>
  <li><a href="#notes-from-computing-quiz" id="toc-notes-from-computing-quiz" class="nav-link" data-scroll-target="#notes-from-computing-quiz">3.5 Notes from <code>Computing</code> Quiz</a></li>
  </ul></li>
  <li><a href="#networking-on-aws" id="toc-networking-on-aws" class="nav-link" data-scroll-target="#networking-on-aws">4 Networking on AWS</a>
  <ul class="collapse">
  <li><a href="#introduction-to-networking-in-aws" id="toc-introduction-to-networking-in-aws" class="nav-link" data-scroll-target="#introduction-to-networking-in-aws">4.1 Introduction to Networking in AWS</a>
  <ul class="collapse">
  <li><a href="#what-is-networking" id="toc-what-is-networking" class="nav-link" data-scroll-target="#what-is-networking">WHAT IS NETWORKING?</a></li>
  <li><a href="#know-the-networking-basics" id="toc-know-the-networking-basics" class="nav-link" data-scroll-target="#know-the-networking-basics">KNOW THE NETWORKING BASICS</a></li>
  <li><a href="#what-are-ip-addresses" id="toc-what-are-ip-addresses" class="nav-link" data-scroll-target="#what-are-ip-addresses">WHAT ARE IP ADDRESSES?</a></li>
  <li><a href="#what-is-ipv4-notation" id="toc-what-is-ipv4-notation" class="nav-link" data-scroll-target="#what-is-ipv4-notation">WHAT IS IPV4 NOTATION?</a></li>
  <li><a href="#use-cidr-notation" id="toc-use-cidr-notation" class="nav-link" data-scroll-target="#use-cidr-notation">USE CIDR NOTATION</a></li>
  <li><a href="#my-interactions-with-chatgpt-on-networking" id="toc-my-interactions-with-chatgpt-on-networking" class="nav-link" data-scroll-target="#my-interactions-with-chatgpt-on-networking">My Interactions with ChatGPT on Networking</a></li>
  </ul></li>
  <li><a href="#introduction-to-aws-vpc-and-its-main-services" id="toc-introduction-to-aws-vpc-and-its-main-services" class="nav-link" data-scroll-target="#introduction-to-aws-vpc-and-its-main-services">4.2 Introduction to AWS VPC and its main services</a>
  <ul class="collapse">
  <li><a href="#create-a-subnet" id="toc-create-a-subnet" class="nav-link" data-scroll-target="#create-a-subnet">4.2.1 Create a Subnet:</a></li>
  <li><a href="#what-is-built-in-public-and-private-subnets" id="toc-what-is-built-in-public-and-private-subnets" class="nav-link" data-scroll-target="#what-is-built-in-public-and-private-subnets">4.2.2 What is built in <code>Public</code> and <code>Private</code> Subnets</a></li>
  <li><a href="#gateways" id="toc-gateways" class="nav-link" data-scroll-target="#gateways">4.3 Gateways</a></li>
  </ul></li>
  <li><a href="#amazon-vpc-routing-and-security" id="toc-amazon-vpc-routing-and-security" class="nav-link" data-scroll-target="#amazon-vpc-routing-and-security">4.4 Amazon VPC Routing and Security</a>
  <ul class="collapse">
  <li><a href="#the-main-route-table" id="toc-the-main-route-table" class="nav-link" data-scroll-target="#the-main-route-table">4.4.1 The Main Route Table</a></li>
  <li><a href="#custom-route-tables" id="toc-custom-route-tables" class="nav-link" data-scroll-target="#custom-route-tables">4.4.2 Custom Route Tables</a></li>
  <li><a href="#secure-your-subnets-with-network-acls" id="toc-secure-your-subnets-with-network-acls" class="nav-link" data-scroll-target="#secure-your-subnets-with-network-acls">4.4.3 Secure Your Subnets with Network ACLs</a></li>
  <li><a href="#secure-your-ec2-instances-with-security-groups" id="toc-secure-your-ec2-instances-with-security-groups" class="nav-link" data-scroll-target="#secure-your-ec2-instances-with-security-groups">4.4.4 Secure Your EC2 Instances with Security Groups</a></li>
  <li><a href="#port-80-vs-port-443" id="toc-port-80-vs-port-443" class="nav-link" data-scroll-target="#port-80-vs-port-443">4.4.5 Port 80 vs Port 443:</a></li>
  </ul></li>
  <li><a href="#how-an-ec2-instance-in-a-private-subnet-reaches-the-internet" id="toc-how-an-ec2-instance-in-a-private-subnet-reaches-the-internet" class="nav-link" data-scroll-target="#how-an-ec2-instance-in-a-private-subnet-reaches-the-internet">4.5 How an EC2 Instance in a Private Subnet reaches the Internet</a></li>
  <li><a href="#common-network-troubleshooting-steps-for-amazon-vpc" id="toc-common-network-troubleshooting-steps-for-amazon-vpc" class="nav-link" data-scroll-target="#common-network-troubleshooting-steps-for-amazon-vpc">4.6 10 Common network troubleshooting steps for Amazon VPC</a></li>
  <li><a href="#notes-from-networking-quiz" id="toc-notes-from-networking-quiz" class="nav-link" data-scroll-target="#notes-from-networking-quiz">4.7 Notes from <code>Networking</code> Quiz:</a></li>
  <li><a href="#chatgpt-interactions-on-nacl-and-security-group" id="toc-chatgpt-interactions-on-nacl-and-security-group" class="nav-link" data-scroll-target="#chatgpt-interactions-on-nacl-and-security-group">ChatGPT Interactions on NACL and Security Group</a>
  <ul class="collapse">
  <li><a href="#add-rules-to-a-network-acl-nacl" id="toc-add-rules-to-a-network-acl-nacl" class="nav-link" data-scroll-target="#add-rules-to-a-network-acl-nacl">1. <strong>Add Rules to a Network ACL (NACL)</strong>:</a></li>
  <li><a href="#add-rules-to-a-security-group" id="toc-add-rules-to-a-security-group" class="nav-link" data-scroll-target="#add-rules-to-a-security-group">2. <strong>Add Rules to a Security Group</strong>:</a></li>
  <li><a href="#tips" id="toc-tips" class="nav-link" data-scroll-target="#tips"><strong>Tips</strong>:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#storage" id="toc-storage" class="nav-link" data-scroll-target="#storage">5. Storage</a>
  <ul class="collapse">
  <li><a href="#storage-types-on-aws" id="toc-storage-types-on-aws" class="nav-link" data-scroll-target="#storage-types-on-aws">5.1 Storage Types on AWS</a>
  <ul class="collapse">
  <li><a href="#file-storage" id="toc-file-storage" class="nav-link" data-scroll-target="#file-storage">5.1.1 File Storage</a></li>
  <li><a href="#block-storage" id="toc-block-storage" class="nav-link" data-scroll-target="#block-storage">5.1.2 Block Storage</a></li>
  <li><a href="#object-storage" id="toc-object-storage" class="nav-link" data-scroll-target="#object-storage">5.1.2 Object Storage</a></li>
  </ul></li>
  <li><a href="#amazon-ec2-instance-store-and-amazon-elastic-block-store" id="toc-amazon-ec2-instance-store-and-amazon-elastic-block-store" class="nav-link" data-scroll-target="#amazon-ec2-instance-store-and-amazon-elastic-block-store">5.2: Amazon EC2 Instance Store and Amazon Elastic Block Store</a>
  <ul class="collapse">
  <li><a href="#the-two-types-of-ec2-instance-storage-options" id="toc-the-two-types-of-ec2-instance-storage-options" class="nav-link" data-scroll-target="#the-two-types-of-ec2-instance-storage-options">5.2.1 The two types of EC2 Instance Storage Options</a></li>
  <li><a href="#how-many-ebs-volumes-to-every-ec2-instance" id="toc-how-many-ebs-volumes-to-every-ec2-instance" class="nav-link" data-scroll-target="#how-many-ebs-volumes-to-every-ec2-instance">5.2.2 How many EBS Volumes to every EC2 Instance</a></li>
  <li><a href="#how-to-scale-amazon-ebs-volumes" id="toc-how-to-scale-amazon-ebs-volumes" class="nav-link" data-scroll-target="#how-to-scale-amazon-ebs-volumes">5.2.3 How to scale Amazon EBS Volumes</a></li>
  <li><a href="#two-types-of-amis-for-ec2-instances" id="toc-two-types-of-amis-for-ec2-instances" class="nav-link" data-scroll-target="#two-types-of-amis-for-ec2-instances">5.2.4 Two types of AMIs for EC2 Instances</a></li>
  <li><a href="#latency-vs-throughput-discussion" id="toc-latency-vs-throughput-discussion" class="nav-link" data-scroll-target="#latency-vs-throughput-discussion">5.2.5 <strong>Latency vs Throughput</strong> discussion</a></li>
  <li><a href="#types-of-ebs-volumes" id="toc-types-of-ebs-volumes" class="nav-link" data-scroll-target="#types-of-ebs-volumes">5.2.6 Types of EBS Volumes</a></li>
  <li><a href="#backups-via-ebs-snapshots" id="toc-backups-via-ebs-snapshots" class="nav-link" data-scroll-target="#backups-via-ebs-snapshots">5.2.7 Backups via EBS Snapshots:</a></li>
  </ul></li>
  <li><a href="#object-storage-with-amazon-s3" id="toc-object-storage-with-amazon-s3" class="nav-link" data-scroll-target="#object-storage-with-amazon-s3">5.3: Object Storage with Amazon S3</a>
  <ul class="collapse">
  <li><a href="#what-is-amazon-s3-understand-amazon-s3-concepts" id="toc-what-is-amazon-s3-understand-amazon-s3-concepts" class="nav-link" data-scroll-target="#what-is-amazon-s3-understand-amazon-s3-concepts">5.3.1 WHAT IS AMAZON S3? UNDERSTAND AMAZON S3 CONCEPTS</a></li>
  <li><a href="#security-for-s3-objects" id="toc-security-for-s3-objects" class="nav-link" data-scroll-target="#security-for-s3-objects">5.3.2 Security for S3 Objects</a></li>
  <li><a href="#when-should-one-use-s3-bucket-policies" id="toc-when-should-one-use-s3-bucket-policies" class="nav-link" data-scroll-target="#when-should-one-use-s3-bucket-policies">5.3.3 When should one use S3 bucket policies:</a></li>
  <li><a href="#encrypt-s3" id="toc-encrypt-s3" class="nav-link" data-scroll-target="#encrypt-s3">5.3.3 ENCRYPT S3</a></li>
  <li><a href="#use-versioning-to-preserve-objects" id="toc-use-versioning-to-preserve-objects" class="nav-link" data-scroll-target="#use-versioning-to-preserve-objects">5.3.4 USE VERSIONING TO PRESERVE OBJECTS</a></li>
  <li><a href="#amazon-s3-storage-classes" id="toc-amazon-s3-storage-classes" class="nav-link" data-scroll-target="#amazon-s3-storage-classes">5.3.5 AMAZON S3 STORAGE CLASSES</a></li>
  <li><a href="#automate-tier-transitions-with-object-lifecycle-management" id="toc-automate-tier-transitions-with-object-lifecycle-management" class="nav-link" data-scroll-target="#automate-tier-transitions-with-object-lifecycle-management">5.3.6 AUTOMATE TIER TRANSITIONS WITH OBJECT LIFECYCLE MANAGEMENT</a></li>
  <li><a href="#aws-storage-services-recap" id="toc-aws-storage-services-recap" class="nav-link" data-scroll-target="#aws-storage-services-recap">5.3.7 AWS Storage Services Recap</a></li>
  </ul></li>
  <li><a href="#notes-from-storage-quiz" id="toc-notes-from-storage-quiz" class="nav-link" data-scroll-target="#notes-from-storage-quiz">5.4 Notes from <code>Storage</code> Quiz</a></li>
  </ul></li>
  <li><a href="#databases-in-aws" id="toc-databases-in-aws" class="nav-link" data-scroll-target="#databases-in-aws">6. Databases in AWS</a>
  <ul class="collapse">
  <li><a href="#my-chatgpt-interactions-on-databases-in-aws" id="toc-my-chatgpt-interactions-on-databases-in-aws" class="nav-link" data-scroll-target="#my-chatgpt-interactions-on-databases-in-aws">6.1 My ChatGPT Interactions on Databases in AWS</a>
  <ul class="collapse">
  <li><a href="#q-what-is-the-difference-between-database-data-warehouse-and-data-lake.-explain-with-examples-from-aws." id="toc-q-what-is-the-difference-between-database-data-warehouse-and-data-lake.-explain-with-examples-from-aws." class="nav-link" data-scroll-target="#q-what-is-the-difference-between-database-data-warehouse-and-data-lake.-explain-with-examples-from-aws.">6.1.1 Q) What is the difference between database, data warehouse and data lake. Explain with examples from AWS.</a></li>
  <li><a href="#q-are-all-aws-databases-in-ec2-instances-are-they-named-as-db.xxx" id="toc-q-are-all-aws-databases-in-ec2-instances-are-they-named-as-db.xxx" class="nav-link" data-scroll-target="#q-are-all-aws-databases-in-ec2-instances-are-they-named-as-db.xxx">6.1.2 Q) Are all AWS Databases in EC2 instances? Are they named as db.xxx ?</a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><strong>Summary</strong>:</a></li>
  <li><a href="#q-so-a-postgresql-db-can-be-either-self-managed-databases-on-ec2-or-aws-managed" id="toc-q-so-a-postgresql-db-can-be-either-self-managed-databases-on-ec2-or-aws-managed" class="nav-link" data-scroll-target="#q-so-a-postgresql-db-can-be-either-self-managed-databases-on-ec2-or-aws-managed">6.1.3 Q) So a PostgreSQL DB can be either Self-Managed Databases on EC2 or AWS Managed ?</a></li>
  </ul></li>
  <li><a href="#managed-databases-in-amazon" id="toc-managed-databases-in-amazon" class="nav-link" data-scroll-target="#managed-databases-in-amazon">6.2. Managed Databases in Amazon</a></li>
  <li><a href="#decisions-to-make-when-choosing-a-db" id="toc-decisions-to-make-when-choosing-a-db" class="nav-link" data-scroll-target="#decisions-to-make-when-choosing-a-db">6.3 Decisions to make when choosing a DB</a></li>
  <li><a href="#where-are-database-instances-placed" id="toc-where-are-database-instances-placed" class="nav-link" data-scroll-target="#where-are-database-instances-placed">6.4 Where are Database Instances placed?</a>
  <ul class="collapse">
  <li><a href="#rds-lies-inside-vpc-private-subnet" id="toc-rds-lies-inside-vpc-private-subnet" class="nav-link" data-scroll-target="#rds-lies-inside-vpc-private-subnet">RDS lies inside VPC Private Subnet</a></li>
  <li><a href="#dynamo-db-lies-outside-vpc" id="toc-dynamo-db-lies-outside-vpc" class="nav-link" data-scroll-target="#dynamo-db-lies-outside-vpc">Dynamo DB lies outside VPC</a></li>
  </ul></li>
  <li><a href="#backups-in-rds" id="toc-backups-in-rds" class="nav-link" data-scroll-target="#backups-in-rds">6.5 Backups in RDS</a></li>
  <li><a href="#redundancy-in-rds-via-multiple-avalaibility-zones" id="toc-redundancy-in-rds-via-multiple-avalaibility-zones" class="nav-link" data-scroll-target="#redundancy-in-rds-via-multiple-avalaibility-zones">6.6 Redundancy in RDS via Multiple Avalaibility Zones</a></li>
  <li><a href="#encryption-of-ebs-volumes" id="toc-encryption-of-ebs-volumes" class="nav-link" data-scroll-target="#encryption-of-ebs-volumes">6.7 Encryption of EBS Volumes</a></li>
  <li><a href="#dynamodb" id="toc-dynamodb" class="nav-link" data-scroll-target="#dynamodb">6.8 DynamoDB</a></li>
  <li><a href="#notes-from-database-quiz" id="toc-notes-from-database-quiz" class="nav-link" data-scroll-target="#notes-from-database-quiz">6.9 Notes from <code>Database</code> Quiz</a></li>
  </ul></li>
  <li><a href="#monitoring-in-aws" id="toc-monitoring-in-aws" class="nav-link" data-scroll-target="#monitoring-in-aws">7. Monitoring in AWS</a>
  <ul class="collapse">
  <li><a href="#intro-to-aws-cloudwatch" id="toc-intro-to-aws-cloudwatch" class="nav-link" data-scroll-target="#intro-to-aws-cloudwatch">7.1 Intro to AWS CloudWatch</a>
  <ul class="collapse">
  <li><a href="#services-in-cloudwatch" id="toc-services-in-cloudwatch" class="nav-link" data-scroll-target="#services-in-cloudwatch">7.1.1 <strong>Services in CloudWatch</strong>:</a></li>
  <li><a href="#types-of-cloudwatch-metrics" id="toc-types-of-cloudwatch-metrics" class="nav-link" data-scroll-target="#types-of-cloudwatch-metrics">7.1.2 Types of Cloudwatch Metrics</a></li>
  <li><a href="#types-of-monitoring" id="toc-types-of-monitoring" class="nav-link" data-scroll-target="#types-of-monitoring">7.1.3 Types of Monitoring</a></li>
  <li><a href="#how-to-filtercategorize-metrics" id="toc-how-to-filtercategorize-metrics" class="nav-link" data-scroll-target="#how-to-filtercategorize-metrics">7.1.4 How to filter/categorize Metrics</a></li>
  <li><a href="#custom-metrics" id="toc-custom-metrics" class="nav-link" data-scroll-target="#custom-metrics">7.1.5 Custom Metrics</a></li>
  </ul></li>
  <li><a href="#other-services-in-cloudwatch" id="toc-other-services-in-cloudwatch" class="nav-link" data-scroll-target="#other-services-in-cloudwatch">7.2 Other Services in CloudWatch</a>
  <ul class="collapse">
  <li><a href="#understand-the-cloudwatch-dashboards" id="toc-understand-the-cloudwatch-dashboards" class="nav-link" data-scroll-target="#understand-the-cloudwatch-dashboards">7.2.1 Understand the CloudWatch Dashboards</a></li>
  <li><a href="#cloudwatch-logs" id="toc-cloudwatch-logs" class="nav-link" data-scroll-target="#cloudwatch-logs">7.2.2 CloudWatch Logs</a></li>
  <li><a href="#cloudwatch-alarms" id="toc-cloudwatch-alarms" class="nav-link" data-scroll-target="#cloudwatch-alarms">7.2 CloudWatch Alarms</a></li>
  </ul></li>
  <li><a href="#eventbridge" id="toc-eventbridge" class="nav-link" data-scroll-target="#eventbridge">7.3 EventBridge</a></li>
  <li><a href="#notes-from-monitoring-quiz" id="toc-notes-from-monitoring-quiz" class="nav-link" data-scroll-target="#notes-from-monitoring-quiz">7.4 Notes from <code>Monitoring</code> Quiz</a></li>
  <li><a href="#source-a-github-source-for-week-4-quiz" id="toc-source-a-github-source-for-week-4-quiz" class="nav-link" data-scroll-target="#source-a-github-source-for-week-4-quiz">Source: A github source for Week 4 Quiz</a></li>
  </ul></li>
  <li><a href="#optimization-in-aws" id="toc-optimization-in-aws" class="nav-link" data-scroll-target="#optimization-in-aws">8. Optimization in AWS</a>
  <ul class="collapse">
  <li><a href="#notation-in-nines" id="toc-notation-in-nines" class="nav-link" data-scroll-target="#notation-in-nines">8.1 Notation in Nines:</a></li>
  <li><a href="#automatically-use-a-second-server-in-a-different-availability-zone" id="toc-automatically-use-a-second-server-in-a-different-availability-zone" class="nav-link" data-scroll-target="#automatically-use-a-second-server-in-a-different-availability-zone">8.2 Automatically use a Second Server in a different availability zone</a></li>
  <li><a href="#types-of-high-availability-architecture" id="toc-types-of-high-availability-architecture" class="nav-link" data-scroll-target="#types-of-high-availability-architecture">8.3 Types of High Availability Architecture</a></li>
  <li><a href="#route-traffic-with-amazon-elastic-load-balancing" id="toc-route-traffic-with-amazon-elastic-load-balancing" class="nav-link" data-scroll-target="#route-traffic-with-amazon-elastic-load-balancing">8.4 Route Traffic with Amazon Elastic Load Balancing</a>
  <ul class="collapse">
  <li><a href="#what-is-a-load-balancer" id="toc-what-is-a-load-balancer" class="nav-link" data-scroll-target="#what-is-a-load-balancer">8.4.1 What is a Load Balancer:</a></li>
  <li><a href="#features-of-elb" id="toc-features-of-elb" class="nav-link" data-scroll-target="#features-of-elb">8.4.2 FEATURES OF ELB</a></li>
  <li><a href="#health-checks" id="toc-health-checks" class="nav-link" data-scroll-target="#health-checks">8.4.3 HEALTH CHECKS</a></li>
  <li><a href="#elb-components" id="toc-elb-components" class="nav-link" data-scroll-target="#elb-components">8.4.4 ELB COMPONENTS</a></li>
  <li><a href="#application-load-balancer" id="toc-application-load-balancer" class="nav-link" data-scroll-target="#application-load-balancer">8.5 APPLICATION LOAD BALANCER</a></li>
  <li><a href="#nlb" id="toc-nlb" class="nav-link" data-scroll-target="#nlb">8.6 NLB</a></li>
  </ul></li>
  <li><a href="#intro-to-amazon-ec2-auto-scaling" id="toc-intro-to-amazon-ec2-auto-scaling" class="nav-link" data-scroll-target="#intro-to-amazon-ec2-auto-scaling">8.7 Intro to Amazon EC2 Auto Scaling</a>
  <ul class="collapse">
  <li><a href="#vertical-scaling" id="toc-vertical-scaling" class="nav-link" data-scroll-target="#vertical-scaling">8.7.1 <strong>Vertical Scaling</strong></a></li>
  <li><a href="#active-passive-vs-active-active-systems-in-scaling" id="toc-active-passive-vs-active-active-systems-in-scaling" class="nav-link" data-scroll-target="#active-passive-vs-active-active-systems-in-scaling">Active-Passive vs Active-Active Systems in Scaling</a></li>
  <li><a href="#horizontal-scaling" id="toc-horizontal-scaling" class="nav-link" data-scroll-target="#horizontal-scaling">8.7.2 <strong>Horizontal Scaling</strong></a></li>
  <li><a href="#integrate-elb-with-ec2-auto-scaling" id="toc-integrate-elb-with-ec2-auto-scaling" class="nav-link" data-scroll-target="#integrate-elb-with-ec2-auto-scaling">8.7.3 <strong>Integrate ELB with EC2 Auto Scaling</strong></a></li>
  <li><a href="#using-amazon-ec2-auto-scaling" id="toc-using-amazon-ec2-auto-scaling" class="nav-link" data-scroll-target="#using-amazon-ec2-auto-scaling">8.7.4 <strong>Using Amazon EC2 Auto Scaling</strong></a></li>
  </ul></li>
  <li><a href="#configure-ec2-auto-scaling-components" id="toc-configure-ec2-auto-scaling-components" class="nav-link" data-scroll-target="#configure-ec2-auto-scaling-components">8.8 <strong>Configure EC2 Auto Scaling Components</strong></a>
  <ul class="collapse">
  <li><a href="#learn-about-launch-templates" id="toc-learn-about-launch-templates" class="nav-link" data-scroll-target="#learn-about-launch-templates">8.8.1 <strong>Learn About Launch Templates</strong></a></li>
  <li><a href="#get-to-know-ec2-auto-scaling-groups" id="toc-get-to-know-ec2-auto-scaling-groups" class="nav-link" data-scroll-target="#get-to-know-ec2-auto-scaling-groups">8.8.2 Get to Know EC2 Auto Scaling Groups</a></li>
  <li><a href="#enable-automation-with-scaling-policies" id="toc-enable-automation-with-scaling-policies" class="nav-link" data-scroll-target="#enable-automation-with-scaling-policies">8.8.3 <strong>Enable Automation with Scaling Policies</strong></a></li>
  </ul></li>
  <li><a href="#optimization-notes-from-quiz" id="toc-optimization-notes-from-quiz" class="nav-link" data-scroll-target="#optimization-notes-from-quiz">8.9 <code>Optimization</code> Notes from Quiz</a></li>
  </ul></li>
  <li><a href="#additional-references" id="toc-additional-references" class="nav-link" data-scroll-target="#additional-references">9. Additional References</a></li>
  <li><a href="#plagiarism-disclosure" id="toc-plagiarism-disclosure" class="nav-link" data-scroll-target="#plagiarism-disclosure"><strong>Plagiarism Disclosure</strong>: <br></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>I’ve pulled together my notes on AWS Fundamentals — covering Security, Compute, Networking, Databases, and more — based on the AWS Technical Essentials course from Coursera. I’ve also included my ChatGPT interactions, where I explored specific doubts and clarified tricky concepts along the way. This resource should be handy for anyone attempting to revise concepts before an AWS exam</p>
<p><img src="images/course_certificate.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>Source: All pictures are from the Coursera Course (unless specified otherwise) and are intended only for learning purposes.</p>
</blockquote>
<section id="introduction-to-aws" class="level1">
<h1>1. Introduction to AWS</h1>
<section id="introduction-to-aws---the-critical-elements" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-aws---the-critical-elements">1. Introduction to AWS - The Critical Elements</h2>
<ul>
<li><p><strong>Regions → AZs → Data Centers</strong></p>
<ul>
<li>AWS Regions consist of <strong>Availability Zones (AZs)</strong>.</li>
<li>AZs consist of <strong>one or more physical data centers</strong>.</li>
</ul></li>
<li><p><strong>Root account first steps (non‑negotiable)</strong></p>
<ol type="1">
<li>Enable <strong>MFA</strong> on the root user immediately</li>
<li>Create an <strong>IAM Administrator role</strong>
<ul>
<li>Full service creation permissions</li>
<li>No account‑level or billing changes</li>
</ul></li>
<li>Lock away root credentials</li>
</ol></li>
<li><p><strong>IAM policies cannot restrict the root user</strong></p>
<ul>
<li>Root user always has unrestricted access, regardless of IAM policies.</li>
</ul></li>
<li><p><strong>Shared Responsibility Model</strong></p>
<ul>
<li>AWS = <strong>security <em>of</em> the cloud</strong></li>
<li>Customer = <strong>security <em>in</em> the cloud</strong></li>
</ul></li>
<li><p>Summary: <strong>Every activity in AWS is an API call</strong></p>
<ul>
<li>Console clicks, CLI commands, SDK calls → all become <strong>authenticated &amp; authorized AWS API requests</strong>.</li>
</ul></li>
</ul>
<hr>
<section id="choose-the-right-aws-region" class="level3">
<h3 class="anchored" data-anchor-id="choose-the-right-aws-region">Choose the Right AWS Region</h3>
<p><strong>Essential takeaway:</strong><br>
Choose Region in this order:</p>
<ol type="1">
<li><strong>Compliance / data residency</strong></li>
<li><strong>Latency</strong></li>
<li><strong>Service availability</strong></li>
<li><strong>Cost</strong></li>
<li><strong>Availability &amp; DR needs</strong></li>
</ol>
<p><img src="./images/how_to_choose_aws_region.png" class="img-fluid"></p>
<hr>
</section>
<section id="availability-zones" class="level3">
<h3 class="anchored" data-anchor-id="availability-zones">Availability Zones</h3>
<p><img src="./images/regioin-az-datacenters.png" class="img-fluid"></p>
<ul>
<li>Each <strong>Region contains multiple AZs</strong></li>
<li>Each <strong>AZ = one or more data centers</strong></li>
<li>Data centers are:
<ul>
<li>Physically separate</li>
<li>Redundantly powered and networked</li>
</ul></li>
<li>AZs are connected by <strong>low‑latency, high‑bandwidth links</strong></li>
<li>AZ names:
<ul>
<li><code>&lt;region&gt;&lt;letter&gt;</code> (example: <code>us-east-1a</code>)</li>
<li>Letter mappings differ per account</li>
</ul></li>
<li>Resource location example:
<ul>
<li><code>us-east-1c</code> → AZ “c” inside <code>us-east-1</code></li>
</ul></li>
</ul>
<hr>
</section>
<section id="scope-of-aws-services" class="level3">
<h3 class="anchored" data-anchor-id="scope-of-aws-services">Scope of AWS Services</h3>
<p><img src="./images/aws_scope_and_responsibility_of_services_2.png" class="img-fluid"></p>
<p><strong>Scope summary:</strong></p>
<ul>
<li><p><strong>Global services</strong></p>
<ul>
<li>Single logical control plane across AWS</li>
<li>Example: IAM, Route 53, CloudFront</li>
</ul></li>
<li><p><strong>Regional services</strong></p>
<ul>
<li>Live within a Region, usually span multiple AZs</li>
<li>Example: S3, DynamoDB, VPC, RDS Multi‑AZ</li>
</ul></li>
<li><p><strong>Zonal services</strong></p>
<ul>
<li>Bound to a single AZ</li>
<li>Example: EC2, EBS, RDS Single‑AZ</li>
</ul></li>
</ul>
<p><strong>Availability &amp; durability:</strong></p>
<ul>
<li>Some services are <strong>AWS‑managed</strong></li>
<li>Others require <strong>customer‑designed HA/DR</strong></li>
</ul>
<hr>
</section>
<section id="maintain-resiliency" class="level3">
<h3 class="anchored" data-anchor-id="maintain-resiliency">Maintain Resiliency</h3>
<ul>
<li>Prefer <strong>Region‑scoped managed services</strong></li>
<li>Otherwise:
<ul>
<li>Deploy across <strong>multiple AZs</strong></li>
<li>Minimum <strong>two AZs</strong></li>
</ul></li>
<li>AZ failure ≠ application outage when designed correctly</li>
</ul>
<hr>
</section>
<section id="security-and-the-aws-shared-responsibility-model" class="level3">
<h3 class="anchored" data-anchor-id="security-and-the-aws-shared-responsibility-model">Security and the AWS Shared Responsibility Model</h3>
<section id="core-distinction" class="level4">
<h4 class="anchored" data-anchor-id="core-distinction">Core distinction</h4>
<ul>
<li><p><strong>AWS responsibility (security of the cloud):</strong></p>
<ul>
<li>Physical data centers</li>
<li>Hardware, networking</li>
<li>Host OS and virtualization layer</li>
</ul></li>
<li><p><strong>Customer responsibility (security in the cloud):</strong></p>
<ul>
<li>IAM, access control</li>
<li>Data protection &amp; encryption</li>
<li>Network security (SGs, NACLs)</li>
<li>Backups and recovery</li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p>AWS manages the infrastructure.<br>
You secure what you build on top of it.</p>
</blockquote>
<hr>
</section>
</section>
</section>
<section id="protect-the-aws-root-user" class="level2">
<h2 class="anchored" data-anchor-id="protect-the-aws-root-user">Protect the AWS Root User</h2>
<section id="authentication-vs-authorization" class="level3">
<h3 class="anchored" data-anchor-id="authentication-vs-authorization">Authentication vs Authorization</h3>
<ul>
<li><p><strong>Authentication:</strong><br>
“Who are you?” (passwords, MFA, tokens)</p></li>
<li><p><strong>Authorization:</strong><br>
“What are you allowed to do?” (IAM policies)</p></li>
</ul>
<hr>
</section>
<section id="aws-root-user" class="level3">
<h3 class="anchored" data-anchor-id="aws-root-user">AWS Root User</h3>
<ul>
<li>Created with the AWS account</li>
<li>Has <strong>full, unrestricted access</strong></li>
<li>Credentials:
<ul>
<li>Email + password (console)</li>
<li>Access keys (programmatic)</li>
</ul></li>
</ul>
<p><strong>Critical facts:</strong></p>
<ul>
<li>IAM policies <strong>cannot limit root</strong></li>
<li>Root should never be used for daily work</li>
</ul>
<hr>
</section>
<section id="root-user-best-practices" class="level3">
<h3 class="anchored" data-anchor-id="root-user-best-practices">Root User Best Practices</h3>
<ul>
<li>Enable <strong>MFA</strong></li>
<li>Strong, unique password</li>
<li><strong>Delete root access keys</strong></li>
<li>Use root <strong>only</strong> for:
<ul>
<li>Account setup</li>
<li>Billing</li>
<li>Rare account‑level tasks</li>
</ul></li>
</ul>
<hr>
</section>
<section id="why-mfa-matters" class="level3">
<h3 class="anchored" data-anchor-id="why-mfa-matters">Why MFA Matters</h3>
<ul>
<li>Passwords alone are weak</li>
<li>MFA adds a second factor:
<ul>
<li>Something you know</li>
<li>Something you have</li>
<li>Something you are</li>
</ul></li>
<li><strong>Always enable MFA on root</strong></li>
</ul>
<hr>
</section>
</section>
<section id="control-plane-apis-and-data-plane-apis-in-aws" class="level2">
<h2 class="anchored" data-anchor-id="control-plane-apis-and-data-plane-apis-in-aws">Control Plane APIs and Data Plane APIs in AWS</h2>
<ul>
<li><p>AWS describes control plane as administrative APIs (CRUDL) like “creating an S3 bucket”, while data plane includes “getting and putting objects in an S3 bucket</p></li>
<li><p>Source: <a href="https://docs.aws.amazon.com/whitepapers/latest/aws-fault-isolation-boundaries/control-planes-and-data-planes.html">Control Planes and Data Planes in AWS</a></p></li>
</ul>
<p>S3 <strong>Control plane</strong> APIs (AWS CLI examples)</p>
<p>✅ Create a bucket (control plane)</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">aws</span> s3api create-bucket <span class="dt">\</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="at">--bucket</span> my-example-bucket-123 <span class="dt">\</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="at">--region</span> ap-south-1 <span class="dt">\</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="at">--create-bucket-configuration</span> LocationConstraint=ap-south-1</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><code>create-bucket</code> “Creates a new S3 bucket.”</p>
<blockquote class="blockquote">
<ul>
<li>Rule of thumb: Anything <em>Bucket</em> (create bucket, put bucket encryption, put bucket policy, lifecycle, versioning…) is typically “control plane” style because you’re configuring the container and its behavior.</li>
</ul>
</blockquote>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">aws</span> s3api delete-object <span class="dt">\</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--bucket</span> my-example-bucket-123 <span class="dt">\</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--key</span> docs/readme.txt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<blockquote class="blockquote">
<ul>
<li>Rule of thumb: Anything <em>Object</em> (PutObject/GetObject/ListObjects/DeleteObject/HeadObject) is “data plane” because you’re interacting with the stored data.</li>
</ul>
</blockquote>
<hr>
</section>
<section id="summary-every-aws-activity-is-an-api-call" class="level2">
<h2 class="anchored" data-anchor-id="summary-every-aws-activity-is-an-api-call">Summary: Every AWS Activity Is an API Call</h2>
<p><img src="./images/every_aws_service_use_is_an_api_call.png" class="img-fluid"></p>
<ul>
<li>Console, CLI, SDK → <strong>AWS API</strong></li>
<li>API calls are:
<ul>
<li>Authenticated</li>
<li>Authorized</li>
<li>Evaluated by IAM</li>
</ul></li>
<li>Understanding this explains:
<ul>
<li>IAM behavior</li>
<li>Auditing (CloudTrail)</li>
<li>Automation (IaC, CI/CD)</li>
<li>Security boundaries</li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p><strong>By understanding APIs, IAM, Regions, AZs, and responsibility boundaries — one understands AWS.</strong></p>
</blockquote>
<hr>
</section>
</section>
<section id="security" class="level1">
<h1>2. Security</h1>
<section id="introduction-to-aws-identity-and-access-management" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-aws-identity-and-access-management">2.1 Introduction to AWS Identity and Access Management</h2>
<section id="what-is-iam" class="level3">
<h3 class="anchored" data-anchor-id="what-is-iam">WHAT IS IAM?</h3>
<ul>
<li><strong>IAM (Identity and Access Management)</strong> is a web service for managing access to AWS accounts and resources.<br>
</li>
<li>Provides centralized control of:
<ul>
<li><strong>Authentication</strong> → who/what can enter the account<br>
</li>
<li><strong>Authorization</strong> → who/what can use specific resources<br>
</li>
</ul></li>
<li>Benefits of IAM:
<ul>
<li>Share access without exposing <strong>root credentials</strong> (email/password or access keys)<br>
</li>
<li>Grant <strong>granular permissions</strong> so users/services only access what they need<br>
</li>
<li>Example: give a user <strong>read-only access</strong> to specific actions/resources in one service</li>
</ul></li>
</ul>
</section>
<section id="get-to-know-the-iam-features" class="level3">
<h3 class="anchored" data-anchor-id="get-to-know-the-iam-features">GET TO KNOW THE IAM FEATURES</h3>
<ul>
<li><strong>IAM is global</strong> → not tied to a specific Region (accessible from any Region).<br>
</li>
<li><strong>Integrated by default</strong> with many AWS services.<br>
</li>
<li>Supports <strong>password policies</strong> (complexity rules, rotation).<br>
</li>
<li>Supports <strong>MFA</strong> for stronger security.<br>
</li>
<li>Supports <strong>identity federation</strong> → users can access AWS with existing credentials (e.g., corporate network, identity provider).<br>
</li>
<li><strong>Free to use</strong> → no additional charge for IAM.</li>
</ul>
<p><img src="./images/aws_iam_user_role_groups_policies.jpg" class="img-fluid"></p>
</section>
<section id="what-is-an-iam-user" class="level3">
<h3 class="anchored" data-anchor-id="what-is-an-iam-user">WHAT IS AN IAM USER?</h3>
<ul>
<li>An <strong>IAM user</strong> represents a person or service that interacts with AWS.<br>
</li>
<li>Defined within your AWS account → all activity is <strong>billed to your account</strong>.<br>
</li>
<li>IAM users can <strong>sign in</strong> to access AWS resources.<br>
</li>
<li>You can create <strong>multiple users</strong> as needed (e.g., team members on a project).<br>
</li>
<li>Each user should have their <strong>own login credentials</strong> → prevents credential sharing.</li>
</ul>
</section>
<section id="iam-user-credentials" class="level3">
<h3 class="anchored" data-anchor-id="iam-user-credentials">IAM USER CREDENTIALS</h3>
<ul>
<li>An <strong>IAM user</strong> has a name and a set of credentials.<br>
</li>
<li>When creating a user, you can provide:
<ul>
<li><strong>Console access</strong> → username + password<br>
</li>
<li><strong>Programmatic access</strong> → access keys for AWS CLI or AWS API<br>
</li>
</ul></li>
<li><strong>IAM user credentials</strong> are permanent until rotated by admins.<br>
</li>
<li>Permissions can be granted directly to users, but:
<ul>
<li>Works only for a few users<br>
</li>
<li>Becomes hard to manage at scale (e.g., thousands of users)<br>
</li>
</ul></li>
<li><strong>Best practice:</strong> Group IAM users and assign permissions at the <strong>group level</strong>.</li>
</ul>
</section>
<section id="what-is-an-iam-group" class="level3">
<h3 class="anchored" data-anchor-id="what-is-an-iam-group">WHAT IS AN IAM GROUP?</h3>
<ul>
<li>An <strong>IAM group</strong> is a collection of IAM users.<br>
</li>
<li>All users in a group <strong>inherit the group’s permissions</strong> → easier, scalable permission management.<br>
</li>
<li><strong>Best practice:</strong> Organize groups by job function (e.g., developers, security, admins).</li>
</ul>
<p>Examples:<br>
- New developer joins → add to <strong>developer group</strong> (no need to assign permissions individually).<br>
- User changes role → move from one group to another (permissions updated automatically).</p>
<p>Key features of groups:<br>
- A group can have <strong>many users</strong>.<br>
- A user can belong to <strong>multiple groups</strong>.<br>
- Groups <strong>cannot belong</strong> to other groups.</p>
<p>⚡ Contrast with root user:<br>
- <strong>Root user</strong> = full access to all resources by default.<br>
- <strong>New IAM users/groups/roles</strong> = <strong>no permissions by default</strong> until explicitly granted.<br>
- Permissions in IAM are granted through <strong>IAM policies</strong>.</p>
</section>
<section id="what-is-an-iam-policy" class="level3">
<h3 class="anchored" data-anchor-id="what-is-an-iam-policy">WHAT IS AN IAM POLICY?</h3>
<ul>
<li><strong>IAM policies</strong> manage access and permissions to AWS services/resources.<br>
</li>
<li>Policies can be attached to <strong>users, groups, or roles</strong>.<br>
</li>
<li>When a request is made, AWS evaluates:
<ul>
<li>Policies on the <strong>user/role</strong><br>
</li>
<li>Policies on any <strong>groups</strong> the user belongs to<br>
</li>
</ul></li>
<li>Example: A developer in the <strong>developers group</strong> → AWS checks both the <strong>group policies</strong> and the <strong>user’s policies</strong> to decide allow/deny.</li>
</ul>
</section>
<section id="iam-policy-examples" class="level3">
<h3 class="anchored" data-anchor-id="iam-policy-examples">IAM POLICY EXAMPLES</h3>
<p>Most policies are stored in AWS as JSON documents with several policy elements. Take a look at the following example of what providing admin access through an IAM identity-based policy looks like.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="dt">"Version"</span><span class="fu">:</span> <span class="st">"2012-10-17"</span><span class="fu">,</span>    </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>     <span class="dt">"Statement"</span><span class="fu">:</span> <span class="ot">[</span><span class="fu">{</span>        </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>          <span class="dt">"Effect"</span><span class="fu">:</span> <span class="st">"Allow"</span><span class="fu">,</span>        </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>          <span class="dt">"Action"</span><span class="fu">:</span> <span class="st">"*"</span><span class="fu">,</span>        </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>          <span class="dt">"Resource"</span><span class="fu">:</span> <span class="st">"*"</span>     </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>     <span class="fu">}</span><span class="ot">]</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li><p>An <strong>IAM policy</strong> has four key JSON elements:</p>
<ol type="1">
<li><strong>Version</strong> → defines the policy language version.
<ul>
<li>Always use <code>"Version": "2012-10-17"</code> for full feature support.<br>
</li>
</ul></li>
<li><strong>Effect</strong> → specifies whether to <strong>Allow</strong> or <strong>Deny</strong> access.<br>
</li>
<li><strong>Action</strong> → describes the allowed/denied actions.
<ul>
<li><code>"*"</code> = wildcard → all actions.<br>
</li>
</ul></li>
<li><strong>Resource</strong> → defines which resources are affected.
<ul>
<li><code>"*"</code> = all resources.</li>
</ul></li>
</ol></li>
<li><p>Example: Policy with <code>"Action": "*"</code> and <code>"Resource": "*"</code> → grants <strong>administrator access</strong> (all actions on all resources).</p></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span><span class="dt">"Version"</span><span class="fu">:</span> <span class="st">"2012-10-17"</span><span class="fu">,</span>    </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>     <span class="dt">"Statement"</span><span class="fu">:</span> <span class="ot">[</span><span class="fu">{</span>        </span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>          <span class="dt">"Effect"</span><span class="fu">:</span> <span class="st">"Allow"</span><span class="fu">,</span>        </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>          <span class="dt">"Action"</span><span class="fu">:</span> <span class="ot">[</span>            </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">"iam: ChangePassword"</span><span class="ot">,</span>            </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">"iam: GetUser"</span>            </span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>               <span class="ot">]</span><span class="fu">,</span>        </span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>          <span class="dt">"Resource"</span><span class="fu">:</span> <span class="st">"arn:aws:iam::123456789012:user/${aws:username}"</span>    </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>     <span class="fu">}</span><span class="ot">]</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>More granular example:
<ul>
<li>Allows a user to:
<ul>
<li><code>iam:ChangePassword</code> (change their own password)<br>
</li>
<li><code>iam:GetUser</code> (get info about their own user)<br>
</li>
</ul></li>
<li>Uses <strong>variable substitution</strong> <code>${aws:username}</code> → limits permissions to the <strong>specific user</strong> only.</li>
</ul></li>
</ul>
</section>
<section id="understand-policy-structure" class="level3">
<h3 class="anchored" data-anchor-id="understand-policy-structure">UNDERSTAND POLICY STRUCTURE</h3>
<p>When creating a policy, it is required to have each of the following elements inside a policy statement.</p>
<p><img src="./images/iam_policy_3_essential_elements.png" class="img-fluid"></p>
<hr>
</section>
</section>
<section id="role-based-access-in-aws" class="level2">
<h2 class="anchored" data-anchor-id="role-based-access-in-aws">2.2 Role Based Access in AWS</h2>
<ul>
<li><strong>Lock down the root user</strong>
<ul>
<li>Don’t share root credentials.<br>
</li>
<li>Delete root access keys if possible.<br>
</li>
<li>Enable MFA on the root account.</li>
</ul></li>
<li><strong>Follow the principle of least privilege</strong>
<ul>
<li>Grant only the permissions required to perform a specific job.<br>
</li>
<li>Start with minimum access, then add permissions as needed.</li>
</ul></li>
<li><strong>Use IAM appropriately</strong>
<ul>
<li>IAM secures access within a single AWS account (users, groups, roles).<br>
</li>
<li>Not for website sign-in/sign-up or OS/network security.</li>
</ul></li>
<li><strong>Use IAM roles when possible</strong>
<ul>
<li>Roles provide temporary credentials (15 min – 36 hrs).<br>
</li>
<li>Easier to manage than long-term IAM user credentials.<br>
</li>
<li>Reduces risk from leaked/stale access keys.</li>
</ul></li>
<li><strong>Consider using an Identity Provider (IdP)</strong>
<ul>
<li>Centralizes identity management across multiple AWS accounts.<br>
</li>
<li>Use IAM roles to grant permissions to federated identities.<br>
</li>
<li>Example: manage an employee once in the IdP instead of duplicating IAM users across accounts.</li>
</ul></li>
<li><strong>Consider AWS IAM Identity Center</strong>
<ul>
<li>Provides single sign-on (SSO) for AWS accounts and apps.<br>
</li>
<li>Lets you create users, groups, and assign permissions centrally.<br>
</li>
<li>Can sync with third-party IdPs, reducing duplication.<br>
</li>
<li>Separates identity management from AWS for added security.</li>
</ul></li>
</ul>
<hr>
<section id="summarizing-the-sections-2.1-and-2.2" class="level3">
<h3 class="anchored" data-anchor-id="summarizing-the-sections-2.1-and-2.2">2.3 Summarizing the sections 2.1 and 2.2:</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD;
    A[Security in AWS] --&gt; B[AWS Identity&lt;br&gt; and Access Management&lt;br&gt;IAM]
    B --&gt; C[What is IAM?]
    B --&gt; D[Features of IAM]
    B --&gt; E[IAM User]
    B --&gt; F[IAM Group]
    B --&gt; G[IAM Policy]
    B --&gt; H[Role-Based Accesses&lt;br&gt; for AWS Services]
    C --&gt; C1[Manage access &lt;br&gt;to AWS resources]
    C --&gt; C2[Centralized authentication&lt;br&gt; and authorization]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<hr>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD;
    A[Security in AWS] --&gt; B[AWS Identity&lt;br&gt; and Access Management&lt;br&gt;IAM]
    B --&gt; C[What is IAM?]
    B --&gt; D[Features of IAM]
    B --&gt; E[IAM User]
    B --&gt; F[IAM Group]
    B --&gt; G[IAM Policy]
    B --&gt; H[Role-Based Accesses&lt;br&gt; for AWS Services]
    D --&gt; D1[Global service]
    D --&gt; D2[Integrated with AWS services]
    D --&gt; D3[Password policies]
    D --&gt; D4[MFA support]
    D --&gt; D5[Identity federation]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<hr>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD;
    A[Security in AWS] --&gt; B[AWS Identity&lt;br&gt; and Access Management&lt;br&gt;IAM]
    B --&gt; D[Features of IAM]
    B --&gt; E[IAM User]
    B --&gt; F[IAM Group]
    B --&gt; G[IAM Policy]
    B --&gt; H[Role-Based Accesses&lt;br&gt; for AWS Services]
    E --&gt; E1[Represents a &lt;br&gt;person]
    E --&gt; E2[User credentials -&lt;br&gt; Console and&lt;br&gt; programmatic access]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<hr>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD;
    A[Security in AWS] --&gt; B[AWS Identity&lt;br&gt; and Access Management&lt;br&gt;IAM]
    B --&gt; D[Features of IAM]
    B --&gt; E[IAM User]
    B --&gt; F[IAM Group]
    B --&gt; G[IAM Policy]
    B --&gt; F[IAM Group]
    B --&gt; H[Role-Based Accesses&lt;br&gt; for AWS Services]
    F --&gt; F1[Collection of &lt;br&gt;users inheriting permissions]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<hr>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD;
    A[Security in AWS] --&gt; B[AWS Identity&lt;br&gt; and Access Management&lt;br&gt;IAM]
    B --&gt; D[Features of IAM]
    B --&gt; E[IAM User]
    B --&gt; F[IAM Group]
    B --&gt; G[IAM Policy]
    B --&gt; F[IAM Group]
    B --&gt; H[Role-Based Accesses&lt;br&gt; for AWS Services]
    G --&gt; G1[JSON documents for access management]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<hr>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD;
    A[Security in AWS] --&gt; B[AWS Identity&lt;br&gt; and Access Management&lt;br&gt;IAM]
    B --&gt; D[Features of IAM]
    B --&gt; E[IAM User]
    B --&gt; F[IAM Group]
    B --&gt; G[IAM Policy]
    B --&gt; F[IAM Group]
    B --&gt; H[Role-Based Accesses&lt;br&gt; for AWS Services]
    A --&gt; H[Role-Based Access in AWS]
    H --&gt; H1[Lock down the AWS root user]
    H --&gt; H2[Follow the principle of least privilege]
    H --&gt; H3[Use IAM appropriately]
    H --&gt; H4[Use IAM roles when possible]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<hr>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD;
    A[Another Security Service &lt;br&gt;in AWS]
    A --&gt; I[Identity Providers&lt;br&gt; and&lt;br&gt; AWS IAM Identity Center]
    I --&gt; I1[External &lt;br&gt; Identity Provider IdP]
    I --&gt; I2[AWS IdP -&lt;br&gt;IAM Identity Center advantages]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<hr>
<section id="different-types-of-aws-iam-users" class="level4">
<h4 class="anchored" data-anchor-id="different-types-of-aws-iam-users">Different types of AWS IAM Users</h4>
<ul>
<li>Even a CICD System can be an IAM User (with specific permissions)</li>
</ul>
<p><img src="./images/iam_user_differences.png" class="img-fluid"> Source: AWS Blg</p>
</section>
<section id="the-concept-of-groups-and-roles" class="level4">
<h4 class="anchored" data-anchor-id="the-concept-of-groups-and-roles">The concept of Groups and Roles</h4>
<ul>
<li>One user could be in multiple groups</li>
</ul>
</section>
</section>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"><img src="./images/different_groups_different_permissions.png" class="img-fluid"></h2>
<section id="how-to-enables-employees-access-aws-account-via-idp" class="level4">
<h4 class="anchored" data-anchor-id="how-to-enables-employees-access-aws-account-via-idp">How to enables employees access AWS Account (via IdP)</h4>
<p><img src="./images/how_to_access_aws_account_via_IDP.png" class="img-fluid"></p>
<hr>
</section>
<section id="how-to-enable-customers-access-to-application-deployed-in-aws-account" class="level4">
<h4 class="anchored" data-anchor-id="how-to-enable-customers-access-to-application-deployed-in-aws-account">How to enable customers access to Application deployed in AWS Account</h4>
<p><img src="./images/how_to_enable_acesss_to_apps_in_aws_account_2.png" class="img-fluid"></p>
<table class="caption-top table">
<colgroup>
<col style="width: 34%">
<col style="width: 29%">
<col style="width: 35%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>AWS IAM Identity Center</th>
<th>AWS Cognito</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Used by</td>
<td>Employees</td>
<td>App users</td>
</tr>
<tr class="even">
<td>Purpose</td>
<td>Access AWS accounts</td>
<td>Access your application</td>
</tr>
<tr class="odd">
<td>Grants console access?</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr class="even">
<td>Grants CLI access?</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr class="odd">
<td>Issues AWS creds?</td>
<td>Yes</td>
<td>Yes (via Identity Pool)</td>
</tr>
<tr class="even">
<td>Scope</td>
<td>Organization-wide</td>
<td>Application-level</td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="week-1s-quiz" class="level3">
<h3 class="anchored" data-anchor-id="week-1s-quiz">2.4 Week 1’s Quiz:</h3>
<p><a href="https://github.com/salimt/Courses-/blob/master/AWS%20Cloud%20Solutions%20Architect%20Professional/c01-%20AWS%20Cloud%20Technical%20Essentials/w1-%20Amazon%20Web%20Services%20(AWS)/Week%201%20Quiz%20_%20Coursera.pdf">A GitHub Source for Week 1 Quiz</a></p>
<hr>
</section>
</section>
</section>
<section id="compute-as-a-service" class="level1">
<h1>3. Compute as a Service</h1>
<section id="introduction-to-compute-options-in-aws" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-compute-options-in-aws">3.1 Introduction to Compute Options in AWS</h2>
<section id="understanding-servers" class="level3">
<h3 class="anchored" data-anchor-id="understanding-servers">Understanding Servers</h3>
<ul>
<li>A <strong>server</strong> processes requests from clients and returns responses.</li>
<li>Servers provide <strong>CPU, memory, and networking</strong> for applications.</li>
<li>Most applications serve <strong>HTTP/API requests</strong> (web servers like IIS, Apache, Nginx).</li>
<li>In AWS, you choose a <strong>compute service</strong> to run these servers.</li>
</ul>
<hr>
</section>
<section id="choose-the-right-compute-option" class="level3">
<h3 class="anchored" data-anchor-id="choose-the-right-compute-option">Choose the Right Compute Option</h3>
<p>AWS compute falls into <strong>three categories</strong>:</p>
<ul>
<li><strong>Virtual Machines</strong></li>
<li><strong>Containers</strong></li>
<li><strong>Serverless</strong></li>
</ul>
<p><strong>Virtual Machines (VMs)</strong></p>
<ul>
<li>Closest to traditional servers</li>
<li>Full OS control</li>
<li>Run on a <strong>hypervisor</strong></li>
</ul>
<p><strong>Amazon EC2</strong></p>
<ul>
<li>AWS VM service</li>
<li>AWS manages hardware + hypervisor</li>
<li>You manage OS and applications</li>
</ul>
<p><strong>Hypervisor</strong></p>
<ul>
<li>Enables multiple OSs on one physical machine</li>
<li>Provides isolation, scalability, and flexibility</li>
</ul>
<hr>
</section>
</section>
<section id="amazon-elastic-compute-cloud-ec2" class="level2">
<h2 class="anchored" data-anchor-id="amazon-elastic-compute-cloud-ec2">3.2 Amazon Elastic Compute Cloud (EC2)</h2>
<ul>
<li>EC2 provides <strong>resizable virtual servers</strong> called instances</li>
<li>Instances are created via Console, CLI, SDK, or automation</li>
<li>You define:
<ul>
<li>Hardware (CPU, memory, storage, networking)</li>
<li>OS, security, networking, access</li>
</ul></li>
</ul>
<section id="amazon-machine-image-ami" class="level3">
<h3 class="anchored" data-anchor-id="amazon-machine-image-ami">Amazon Machine Image (AMI)</h3>
<ul>
<li>Template used to launch EC2 instances</li>
<li>Contains:
<ul>
<li>OS</li>
<li>Architecture</li>
<li>Storage mappings</li>
<li>Optional software</li>
</ul></li>
</ul>
<p><img src="./images/ami_ec2_rootvolume.png" class="img-fluid"></p>
<p><strong>AMI vs EC2</strong></p>
<ul>
<li>AMI = template / recipe</li>
<li>EC2 instance = running server / instantiation of the recipe</li>
<li>Equivalent to <strong>Class vs Object</strong></li>
</ul>
<p><strong>AMI Reuse</strong></p>
<ul>
<li>Create once, launch many identical instances</li>
<li>Avoids manual reconfiguration and errors</li>
</ul>
<p><img src="./images/create_ami_from_running_instance.png" class="img-fluid"></p>
<hr>
</section>
<section id="where-can-you-find-amis" class="level3">
<h3 class="anchored" data-anchor-id="where-can-you-find-amis">Where Can You Find AMIs?</h3>
<ul>
<li>AWS Quick Start AMIs</li>
<li>AWS Marketplace</li>
<li>My AMIs</li>
<li>Community AMIs</li>
<li>EC2 Image Builder</li>
</ul>
<hr>
</section>
</section>
<section id="types-of-ec2-instances" class="level2">
<h2 class="anchored" data-anchor-id="types-of-ec2-instances">3.3 Types of EC2 Instances</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  EC2((EC2 Family)) 
  E1(Gen Purpose)
  E2(Compute Optimized)
  E3(Storage Optimized)
  E4(Memory/RAM Optimized)
  E5(Accelerated Computing)

  U1[Web Servers]   
  U2[ML/DL in High power CPU]   
  U3[MongoDB/NoSQL DBs]
  U4[Capable of processing&lt;br&gt;large workloads&lt;br&gt;in memory]
  U5[Workloads&lt;br&gt;needing GPUs]

  EC2 --&gt; E1
  EC2 --&gt; E2
  EC2 --&gt; E3
  EC2 --&gt; E4
  EC2 --&gt; E5

  E1 --&gt; U1
  E2 --&gt; U2
  E3 --&gt; U3
  E4 --&gt; U4
  E5 --&gt; U5
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<hr>
</section>
<section id="container-services-on-aws" class="level2">
<h2 class="anchored" data-anchor-id="container-services-on-aws">3.3 Container Services on AWS</h2>
<ul>
<li>Containers package <strong>code + dependencies</strong></li>
<li>Portable across environments (dev → prod → cloud)</li>
<li>Solve “works on my machine” problems</li>
</ul>
<section id="docker" class="level3">
<h3 class="anchored" data-anchor-id="docker">Docker</h3>
<ul>
<li>Most common container runtime</li>
<li>Simplifies container build and execution</li>
</ul>
<p><img src="./images/containers_and_virtual_machines.png" class="img-fluid"></p>
<p><strong>Containers vs VMs</strong></p>
<ul>
<li>Containers share host OS → lightweight, fast startup</li>
<li>VMs include full OS → heavier, more isolation</li>
</ul>
<hr>
</section>
<section id="orchestrate-containers" class="level3">
<h3 class="anchored" data-anchor-id="orchestrate-containers">Orchestrate Containers</h3>
<p>At scale, you need orchestration to handle:</p>
<ul>
<li>Placement</li>
<li>Failures</li>
<li>Scaling</li>
<li>Monitoring</li>
</ul>
<p>AWS orchestration services:</p>
<ul>
<li><strong>Amazon ECS</strong></li>
<li><strong>Amazon EKS</strong></li>
</ul>
<hr>
</section>
</section>
<section id="amazon-elastic-container-service-ecs" class="level2">
<h2 class="anchored" data-anchor-id="amazon-elastic-container-service-ecs">Amazon Elastic Container Service (ECS)</h2>
<ul>
<li>AWS‑native container orchestration</li>
<li>Runs containers on EC2 or <strong>AWS Fargate</strong></li>
</ul>
<p><img src="./images/one_ec2_multiple_containers.png" class="img-fluid"></p>
<section id="ecs-agent" class="level3">
<h3 class="anchored" data-anchor-id="ecs-agent">ECS Agent</h3>
<ul>
<li>Installed on EC2 instances</li>
<li>EC2 + agent = <strong>container instance</strong></li>
</ul>
<p><img src="./images/ecs_agent_to_orchestrate_containers.png" class="img-fluid"></p>
</section>
<section id="task-definition" class="level3">
<h3 class="anchored" data-anchor-id="task-definition">Task Definition</h3>
<ul>
<li>JSON blueprint describing containers and resources</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode json code-with-copy"><code class="sourceCode json"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;</span> <span class="dt">"family"</span><span class="fu">:</span> <span class="st">"webserver"</span><span class="fu">,</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;</span> <span class="dt">"containerDefinitions"</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;&nbsp;&nbsp;</span> <span class="fu">{</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="dt">"name"</span><span class="fu">:</span> <span class="st">"web"</span><span class="fu">,</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="dt">"image"</span><span class="fu">:</span> <span class="st">"nginx"</span><span class="fu">,</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="dt">"memory"</span><span class="fu">:</span> <span class="st">"100"</span><span class="fu">,</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> <span class="dt">"cpu"</span><span class="fu">:</span> <span class="st">"99"</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;&nbsp;&nbsp;</span> <span class="fu">}</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;</span> <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;</span> <span class="dt">"requiresCompatibilities"</span><span class="fu">:</span> <span class="ot">[</span><span class="st">"FARGATE"</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;</span> <span class="dt">"networkMode"</span><span class="fu">:</span> <span class="st">"awsvpc"</span><span class="fu">,</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;</span> <span class="dt">"memory"</span><span class="fu">:</span> <span class="st">"512"</span><span class="fu">,</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="er">&nbsp;</span> <span class="dt">"cpu"</span><span class="fu">:</span> <span class="st">"256"</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
<section id="ecs-summary" class="level3">
<h3 class="anchored" data-anchor-id="ecs-summary">ECS Summary</h3>
<ul>
<li>AWS‑native orchestration</li>
<li>No Kubernetes</li>
<li>Containers = <strong>tasks</strong></li>
<li>Can run on EC2 or Fargate</li>
</ul>
<hr>
</section>
</section>
<section id="amazon-elastic-kubernetes-service-eks" class="level2">
<h2 class="anchored" data-anchor-id="amazon-elastic-kubernetes-service-eks">Amazon Elastic Kubernetes Service (EKS)</h2>
<ul>
<li>Managed <strong>Kubernetes</strong> on AWS</li>
<li>AWS manages control plane</li>
<li>EC2 instances = <strong>worker nodes</strong></li>
<li>Containers run inside <strong>pods</strong></li>
</ul>
<hr>
<section id="ecs-vs-eks-terminology" class="level3">
<h3 class="anchored" data-anchor-id="ecs-vs-eks-terminology">ECS vs EKS Terminology</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 42%">
<col style="width: 57%">
</colgroup>
<thead>
<tr class="header">
<th>ECS</th>
<th>EKS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>EC2 Instances where containers are run <code>EC2 Container Instances</code></td>
<td>EC2 Instances where containers run <code>Worker Nodes</code></td>
</tr>
<tr class="even">
<td>A <code>task</code> refers to a set of one or more containers that are scheduled together</td>
<td>A <code>pod</code> - the smallest deployable unit and equivalent of <code>task</code> in ECS - consists of one or more containers that share resources</td>
</tr>
<tr class="odd">
<td>Summary: In ECS, the EC2 instances where containers run are called container instances because they have the ECS agent installed to manage <code>tasks</code></td>
<td>Summary: In EKS (Kubernetes), the EC2 instances are called worker nodes, and they are part of the broader Kubernetes cluster. Kubernetes distributes containers (in the form of pods) to these nodes.</td>
</tr>
</tbody>
</table>
<p><img src="./images/a_EKS_worker_node.png" class="img-fluid"></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>ECS</th>
<th>EKS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Container Instance</td>
<td>Worker Node</td>
</tr>
<tr class="even">
<td>Task</td>
<td>Pod</td>
</tr>
<tr class="odd">
<td>AWS-native</td>
<td>Kubernetes</td>
</tr>
</tbody>
</table>
<hr>
</section>
</section>
<section id="serverless-and-aws-lambda" class="level2">
<h2 class="anchored" data-anchor-id="serverless-and-aws-lambda">3.4 Serverless and AWS Lambda</h2>
<section id="remove-undifferentiated-heavy-lifting" class="level3">
<h3 class="anchored" data-anchor-id="remove-undifferentiated-heavy-lifting">Remove Undifferentiated Heavy Lifting</h3>
<ul>
<li>EC2 → you manage OS, patching, scaling</li>
<li>Containers → AWS helps, but EC2 still exists</li>
<li><strong>Serverless → no servers to manage</strong></li>
</ul>
</section>
<section id="serverless-characteristics" class="level3">
<h3 class="anchored" data-anchor-id="serverless-characteristics">Serverless Characteristics</h3>
<ul>
<li>No infrastructure management</li>
<li>Auto scaling</li>
<li>Pay per use</li>
<li>Built‑in availability</li>
</ul>
<hr>
</section>
</section>
<section id="aws-fargate" class="level2">
<h2 class="anchored" data-anchor-id="aws-fargate">AWS Fargate</h2>
<ul>
<li>Serverless compute for containers</li>
<li>Works with ECS and EKS</li>
<li>No EC2 management</li>
<li>Native IAM and VPC integration</li>
</ul>
<hr>
</section>
<section id="aws-lambda" class="level2">
<h2 class="anchored" data-anchor-id="aws-lambda">AWS Lambda</h2>
<ul>
<li>Run code without servers or containers</li>
<li>Event‑driven execution</li>
<li>Automatic scaling</li>
<li>Millisecond‑level billing</li>
</ul>
<section id="lambda-function-structure" class="level3">
<h3 class="anchored" data-anchor-id="lambda-function-structure">Lambda Function Structure</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> handler_name(event, context):&nbsp;</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>&nbsp; ...</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>&nbsp; <span class="cf">return</span> some_value</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li><strong>Handler</strong> = entry point</li>
<li><strong>Trigger</strong> = when it runs</li>
<li><strong>Configuration</strong> = memory, timeout, IAM, networking</li>
</ul>
</section>
<section id="billing" class="level3">
<h3 class="anchored" data-anchor-id="billing">Billing</h3>
<ul>
<li>Charged per request</li>
<li>Charged per execution time (ms)</li>
<li>No cost when idle</li>
</ul>
<hr>
</section>
</section>
<section id="notes-from-computing-quiz" class="level2">
<h2 class="anchored" data-anchor-id="notes-from-computing-quiz">3.5 Notes from <code>Computing</code> Quiz</h2>
<ul>
<li><p>EC2 = Virtual Machines</p></li>
<li><p>Multiple containers can run on one EC2</p></li>
<li><p>Instance type = family + generation + size</p>
<ul>
<li>EC2 Instance type indicate the following:&nbsp;<code>instance family</code>&nbsp;and&nbsp;<code>instance size</code>. E.g.:&nbsp;<code>c5.large</code>&nbsp;–&gt; c - compute optimized, c5 - 5th generation, large - indicates instance size &gt; AMI = template for EC2</li>
</ul></li>
<li><p>AWS Fargate vs AWS EC2 in ECS: For Fargate, AWS manages the provision, configuration and scale of the clusters. For&nbsp;<code>EC2 in ECS</code>, user manages the provisioning, configuration and scale of EC2 instance cluster</p></li>
<li><p>Serverless services do not require VPC. But can be included in a VPC of your own account.</p></li>
<li><p>ECS + EC2 → user manages instances</p></li>
<li><p>ECS + Fargate → AWS manages infrastructure</p></li>
<li><p>Serverless does not require VPC but can run inside one</p></li>
</ul>
<hr>
</section>
</section>
<section id="networking-on-aws" class="level1">
<h1>4 Networking on AWS</h1>
<section id="introduction-to-networking-in-aws" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-networking-in-aws">4.1 Introduction to Networking in AWS</h2>
<section id="what-is-networking" class="level3">
<h3 class="anchored" data-anchor-id="what-is-networking">WHAT IS NETWORKING?</h3>
<p>Networking is how you connect computers around the world and allow them to communicate with one another. In this trail, you’ve already seen a few examples of networking. One is the AWS global infrastructure. AWS has created a network of resources using data centers, Availability Zones, and Regions.</p>
</section>
<section id="know-the-networking-basics" class="level3">
<h3 class="anchored" data-anchor-id="know-the-networking-basics">KNOW THE NETWORKING BASICS</h3>
<p>Think about sending a letter. When sending a letter, there are three pieces of information you need. - Sender - Receiver - Payload content</p>
<p>Let’s go further. Each address must contain information such as:</p>
<ul>
<li>Name of sender and recipient</li>
<li>Street</li>
<li>City</li>
<li>State or province</li>
<li>Zip, area, or postal code</li>
<li>Country</li>
</ul>
<p>You need all parts of an address to ensure that your letter gets to its destination. Without the correct address, postal workers are not able to properly deliver the message. In the digital world, computers handle the delivery of messages in a similar way. This is called <strong>routing</strong>.</p>
</section>
<section id="what-are-ip-addresses" class="level3">
<h3 class="anchored" data-anchor-id="what-are-ip-addresses">WHAT ARE IP ADDRESSES?</h3>
<p>In order to properly route your messages to a location, you need an address. Just like each home has a mail address, each computer has an IP address. However, instead of using the combination of street, city, state, zip code, and country, the IP address uses a combination of bits, 0s and 1s.</p>
<p>It’s called 32-bit because you have 32 digits of 0s and 1s.</p>
</section>
<section id="what-is-ipv4-notation" class="level3">
<h3 class="anchored" data-anchor-id="what-is-ipv4-notation">WHAT IS IPV4 NOTATION?</h3>
<p>Typically, you don’t see an IP address in this binary format. Instead, it’s converted into decimal format and noted as an Ipv4 address.</p>
<p>In the diagram below, the 32 bits are grouped into groups of 8 bits, also called octets. Each of these groups is converted into decimal format separated by a period.</p>
<p><img src="./images/ipv4_notation.png" class="img-fluid"></p>
<p>In the end, this is what is called an Ipv4 address. This is important to know when trying to communicate to a single computer. But remember, you’re working with a network. This is where CIDR Notation comes in.</p>
</section>
<section id="use-cidr-notation" class="level3">
<h3 class="anchored" data-anchor-id="use-cidr-notation">USE CIDR NOTATION</h3>
<p>192.168.1.30 is a single IP address. If you wanted to express IP addresses between the range of 192.168.1.0 and 192.168.1.255, how can you do that?</p>
<p>One way is by using Classless Inter-Domain Routing (CIDR) notation. CIDR notation is a compressed way of specifying a range of IP addresses. Specifying a range determines how many IP addresses are available to you.</p>
<p>CIDR notation looks like this:</p>
<pre><code>192.168.1.0/24</code></pre>
<p>It begins with a starting IP address and is separated by a forward slash (the “/” character) followed by a number. The number at the end specifies how many of the bits of the IP address are fixed. In this example, the first 24 bits of the IP address are fixed. The rest are flexible.</p>
<pre><code># first 24 of the 32 bits are fixed 
192.168.1.0/24

# 192 - Fixed 
# 168 - Fixed
# 1 - Fixed
# last 8 bits - Flexible 

# each of the last 8 bits can take 0 or 1 - so two choices. 
# hence 2^8 = 256 IP addresses possible</code></pre>
<p>When working with networks in the AWS Cloud, you choose your network size by using CIDR notation. In AWS, the smallest IP range you can have is <code>/28</code>, which provides you <code>16 IP addresses</code>. The largest IP range you can have is a <code>/16</code>, which provides you with <code>65,536</code> IP addresses.</p>
</section>
<section id="my-interactions-with-chatgpt-on-networking" class="level3">
<h3 class="anchored" data-anchor-id="my-interactions-with-chatgpt-on-networking">My Interactions with ChatGPT on Networking</h3>
<pre><code>
# Q) What should be the right CIDR range to choose for my VPC? What factors dictate that? 
When should I choose a CIDR /24 or CIDR/28 and CIDR/16 range of ip addresses?

Ans: 
Factors that decide the range of the IP addresses: 
1. Size of the Network
2. Subnets
3. Growth and Scalability
4. Private vs Public Subnets
5. Peering and Inter-VPC Connectivity
6. Service Endpoints &amp; NAT Gateways

Summary: 
/16: Best for large networks with many subnets, services, or where future scaling is critical.
/24: Suitable for mid-sized networks with a moderate number of subnets.
/28: Best for small networks, testing environments, or scenarios with very few resources.

Note: On `Subnets`

AWS reserves 5 IP addresses in every subnet, so in smaller CIDR blocks like /28 (where 16 IP addresses are available), you only have 11 usable IPs. Remaining 5 get used for subnets
</code></pre>
<hr>
</section>
</section>
<section id="introduction-to-aws-vpc-and-its-main-services" class="level2">
<h2 class="anchored" data-anchor-id="introduction-to-aws-vpc-and-its-main-services">4.2 Introduction to AWS VPC and its main services</h2>
<p>3 Requirements to set up a VPC: 1. The name of your VPC. 2. A Region for your VPC to live in. Each VPC spans multiple Availability Zones within the Region you choose. 3. A IP range for your VPC in CIDR notation. This determines the size of your network. Each VPC can have up to four /16 IP ranges.</p>
<p><img src="./images/vpc_azs_region.png" class="img-fluid"></p>
<section id="create-a-subnet" class="level3">
<h3 class="anchored" data-anchor-id="create-a-subnet">4.2.1 Create a Subnet:</h3>
<p>After you create your VPC, you need to create subnets inside of this network. Think of subnets as smaller networks inside your base network—or virtual area networks (VLANs) in a traditional, on-premises network. In an on-premises network, the typical use case for subnets is to isolate or optimize network traffic. In AWS, subnets are used for high availability and providing different connectivity options for your resources.</p>
<blockquote class="blockquote">
<p>Subnet is a subset of VPC. The size of Both Subnets and VPCs are indicated with CIDR notation. A VPC CIDR range is always bigger than its subnet CIDR range.</p>
</blockquote>
<p>When you create a subnet, you need to choose three settings. 1. The VPC you want your subnet to live in, in this case VPC (<code>10.0.0.0/16</code>). 2. The Availability Zone you want your subnet to live in, in this case AZ1. 3. A CIDR block for your subnet, which must be a subset of the VPC CIDR block, in this case 10.0.0.0/24.</p>
<p>When you launch an EC2 instance, you launch it inside a subnet, which will be located inside the Availability Zone you choose.</p>
<p>Below is an image of an EC2 instance residing inside a public subnet</p>
<p><img src="./images/public_and_private_subnetets_inside_vpc.png" class="img-fluid"></p>
<p>How to maintain high availability with a VPC?</p>
<ul>
<li>When you create your subnets, keep high availability in mind. In order to maintain redundancy and fault tolerance, create at least two subnets configured in two different Availability Zones.</li>
</ul>
<p><strong>Reserved IPs</strong> For AWS to configure your VPC appropriately, AWS reserves five IP addresses in each subnet. These IP addresses are used for routing, Domain Name System (DNS), and network management.</p>
<p>What are those 5 Reserved IPs at every Subnet?</p>
<p><img src="./images/5_reserved_ip_addresses.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>For example, consider a VPC with the IP range 10.0.0.0/22. The VPC includes <code>1,024 total IP addresses</code>. This is divided into four equal-sized subnets, each with a <code>/24</code> IP range with <code>256 IP addresses</code>. Out of each of those IP ranges, there are only 251 IP addresses that can be used because AWS reserves five.</p>
</blockquote>
<p>Since AWS reserves these five IP addresses, it can impact how you design your network. A common starting place for those who are new to the cloud is to create a VPC with a IP range of /16 and create subnets with a IP range of /24. This provides a large amount of IP addresses to work with at both the VPC and subnet level.</p>
</section>
<section id="what-is-built-in-public-and-private-subnets" class="level3">
<h3 class="anchored" data-anchor-id="what-is-built-in-public-and-private-subnets">4.2.2 What is built in <code>Public</code> and <code>Private</code> Subnets</h3>
<pre><code>Example Architecture Setup for Amazon.com or Facebook.com:


**Public-facing Load Balancer (ALB or NLB) in a public subnet**:

- The Load Balancer receives all incoming traffic (e.g., user requests to Amazon.com).
It distributes the traffic to a pool of web servers based on load and availability.

**Web Servers**:
- The web servers can be in either a public or private subnet. If they are in a public subnet, they have a public IP address but only accept traffic from the Load Balancer.
If they are in a private subnet, they do not have a public IP and can only receive traffic forwarded by the Load Balancer.


**Backend Components (databases, APIs, etc.) in private subnets**:
- These are isolated and only accessible from the web servers or other internal systems.
- They cannot be accessed directly from the internet, ensuring sensitive data and services are protected.

**NAT Gateway (optional for backend services)**:
- Any backend instances in the private subnet that need to initiate outbound traffic (e.g., for updates, API calls) do so through a NAT Gateway.

Summary:
- Web Servers (like Amazon.com and Facebook.com) do need to allow inbound traffic for users to access their websites. However, this traffic is typically handled in a controlled and secure manner, often through Load Balancers and strict security group rules.
- Backend systems, on the other hand, are usually hosted in private subnets and do not allow any unsolicited inbound traffic from the internet. They may make outbound requests through NAT Gateways or other secure channels.


The **key security principle** here is that inbound traffic is tightly controlled and usually mediated by a public-facing Load Balancer, while private subnets and backend systems remain isolated and protected from direct exposure to the internet.</code></pre>
</section>
<section id="gateways" class="level3">
<h3 class="anchored" data-anchor-id="gateways">4.3 Gateways</h3>
<section id="internet-gateway" class="level4">
<h4 class="anchored" data-anchor-id="internet-gateway">4.3.1 Internet Gateway</h4>
<ul>
<li>To enable internet connectivity for your VPC, you need to create an internet gateway.</li>
</ul>
<blockquote class="blockquote">
<p>Think of this gateway as similar to a modem. Just as a modem connects your computer to the internet, the internet gateway connects your VPC to the internet. Unlike your modem at home, which sometimes goes down or offline, an internet gateway is highly available and scalable.</p>
</blockquote>
<ul>
<li>After you create an internet gateway, you then need to attach it to your VPC.</li>
</ul>
</section>
<section id="virtual-private-gateway" class="level4">
<h4 class="anchored" data-anchor-id="virtual-private-gateway">4.3.2 Virtual Private Gateway</h4>
<p>A virtual private gateway allows you to connect your AWS VPC to another private network. Once you create and attach a VGW to a VPC, the gateway acts as anchor on the AWS side of the connection. On the other side of the connection, you’ll need to connect a customer gateway to the other private network. A customer gateway device is a physical device or software application on your side of the connection.</p>
<blockquote class="blockquote">
<p>Once you have both gateways, you can then <strong>establish an encrypted VPN connection between the two sides</strong>.</p>
</blockquote>
</section>
<section id="nat-gateway" class="level4">
<h4 class="anchored" data-anchor-id="nat-gateway">4.3.2 NAT Gateway</h4>
<p>NAT Gateway stands for Network Address Translation Gateway. The name “NAT” is derived from the process of Network Address Translation, which allows a device (like an EC2 instance) with a private IP address to communicate with external systems (like the internet) by <strong>translating its private IP into a public IP</strong> for <strong>outbound traffic</strong>.</p>
<p><strong>Why is it called “NAT Gateway”?</strong> Network Address Translation (NAT): This is the key process behind the name. NAT allows instances in a private subnet (with only private IP addresses) to send traffic to the internet by translating their private IP addresses to a public IP address as they pass through the NAT Gateway. Gateway: It acts as a “gateway” or bridge between instances in a private subnet and external destinations, like the internet.</p>
<p><strong>Primary Function: Outbound Internet Traffic</strong> A NAT Gateway is primarily designed to allow outbound internet access from instances in a private subnet, while preventing inbound traffic from the internet. When an instance in a private subnet needs to download updates or communicate with a service on the internet, it sends the request to the NAT Gateway. The NAT Gateway then makes the request on behalf of the instance using its own public IP and routes the response back to the instance.</p>
<p><strong>Important Characteristics</strong>: - Outbound-only: - NAT Gateway is designed for outbound traffic only from private subnets to the internet. It does not allow incoming traffic initiated from the internet to reach instances in private subnets.</p>
<ul>
<li>Security:
<ul>
<li>Since instances behind a NAT Gateway do not have public IP addresses, they are not directly reachable from the internet, enhancing security.</li>
</ul></li>
</ul>
<p><strong>Summary</strong>: NAT Gateway enables instances in private subnets to connect to the internet (e.g., to download updates or communicate with external APIs), but does not allow inbound internet traffic. It serves as a way to hide the private IP addresses of those instances from external systems while enabling them to make outgoing connections.</p>
<hr>
<p><strong>Outbound vs.&nbsp;Inbound Traffic Breakdown</strong> Outbound Traffic refers to traffic initiated by an instance (in your private subnet) that goes out to the internet. When you send a request to download an update or access an external API, this is outbound traffic because the instance is initiating the connection.</p>
<p>Inbound Traffic refers to traffic initiated from the internet towards your instance. For example, a web server accepting a request from an external user would be receiving inbound traffic.</p>
<p><strong>Key Concept: Stateful Connections and Outbound Session</strong> NAT Gateways maintain <strong>stateful connections</strong>. When your instance starts a connection to the internet, the NAT Gateway tracks that connection. Any return traffic (like the update file) is automatically allowed because it is part of an ongoing session initiated by your instance. NAT Gateway does not allow new incoming connections initiated by the external source. It only forwards responses to requests that were initiated by the private instance (which keeps the session active).</p>
<hr>
</section>
</section>
</section>
<section id="amazon-vpc-routing-and-security" class="level2">
<h2 class="anchored" data-anchor-id="amazon-vpc-routing-and-security">4.4 Amazon VPC Routing and Security</h2>
<section id="the-main-route-table" class="level3">
<h3 class="anchored" data-anchor-id="the-main-route-table">4.4.1 The Main Route Table</h3>
<p>When you create a VPC, AWS creates a route table called the main route table. A route table contains a set of rules, called routes, that are used to determine where network traffic is directed. AWS assumes that when you create a new VPC with subnets, you want traffic to flow between them. Therefore, the default configuration of the main route table is to allow traffic between all subnets in the local network.</p>
<p><img src="./images/main_route_table_(of_a_vpc).png" class="img-fluid"></p>
<p>There are two main parts to this route table.</p>
<ul>
<li><p>The <strong>destination</strong>, which is a range of IP addresses where you want your traffic to go. In the example of sending a letter, you need a destination to route the letter to the appropriate place. The same is true for routing traffic. In this case, the destination is the IP range of our VPC network.</p></li>
<li><p>The <strong>target</strong>, which is the connection through which to send the traffic. In this case, the traffic is routed through the local VPC network.</p></li>
</ul>
</section>
<section id="custom-route-tables" class="level3">
<h3 class="anchored" data-anchor-id="custom-route-tables">4.4.2 Custom Route Tables</h3>
<ul>
<li>Custom Route Tables are Route Tables for specific subnets
<ul>
<li>granular way to route your traffic for specific subnets.</li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p>If you associate a custom route table with a subnet, the subnet will use it instead of the main route table. By default, each custom route table you create will have the <code>local</code> route already inside it, allowing communication to flow between all resources and subnets inside the VPC.</p>
</blockquote>
<p><img src="./images/custom_route_tables.png" class="img-fluid"></p>
</section>
<section id="secure-your-subnets-with-network-acls" class="level3">
<h3 class="anchored" data-anchor-id="secure-your-subnets-with-network-acls">4.4.3 Secure Your Subnets with Network ACLs</h3>
<p>A NACL (Network Access Control List) is <em>a stateless firewall</em> at the subnet level in AWS that controls inbound and outbound traffic to and from subnets.</p>
<blockquote class="blockquote">
<p>Network ACL’s are considered stateless, so you need to include both the inbound and outbound ports used for the protocol. If you don’t include the outbound range, your server would respond but the traffic would never leave the subnet.</p>
</blockquote>
<p><img src="./images/network_acl_inbound_and_outbound_rules.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>Note the <code>non modifiable</code> rules in both <code>inbound</code> and <code>outbound</code></p>
</blockquote>
</section>
<section id="secure-your-ec2-instances-with-security-groups" class="level3">
<h3 class="anchored" data-anchor-id="secure-your-ec2-instances-with-security-groups">4.4.4 Secure Your EC2 Instances with Security Groups</h3>
<p><img src="./images/NACL_vs_sec_group_rules.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>Default Security Group Behaviour: Denies all inbound traffic by default, allows all outbound by default</p>
</blockquote>
<p>If you have a web server, you may need to accept HTTP and HTTPS requests to allow that type of traffic in through your security group. You can create an inbound rule that will allow port 80 (HTTP) and port 443 (HTTPS) as shown below.</p>
<p><img src="./images/inbound_sg_rules_for_http_https.png" class="img-fluid"></p>
</section>
<section id="port-80-vs-port-443" class="level3">
<h3 class="anchored" data-anchor-id="port-80-vs-port-443">4.4.5 Port 80 vs Port 443:</h3>
<pre><code>Q) 1. What does port 80 and port 443 signify? 
2. What does HTTP request and HTTPS request ? How are these 2 requests different

&gt; Port 80 (HTTP): When your browser makes an HTTP request over port 80, the communication is unencrypted. 
- Anyone intercepting the data between the browser and server can read the content in plaintext.
- HTTP requests are typically used on websites where security is not a concern (e.g., static informational sites).

E.g.: `http://` websites

&gt; Port 443 (HTTPS): When your browser makes an HTTPS request over port 443, the communication is encrypted using SSL/TLS. This means:
- The data is securely encrypted and can only be decrypted by the server and client.
- HTTPS requests are used on websites where security is important (e.g., banking, e-commerce, login forms).

E.g.: `https://` websites</code></pre>
<p><img src="./images/http_vs_https.png" class="img-fluid"></p>
<p><img src="./images/networking_sg_rules_for_a_multi_tier_system.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>This example allows you to define three tiers and isolate each tier with the security group rules you define. In this case, you only allow internet traffic to the web tier over HTTPS, Web Tier to Application Tier over HTTP, and Application tier to Database tier over MySQL. This is different from traditional on-premises environments, in which you isolate groups of resources via VLAN configuration. In AWS, security groups allow you to achieve the same isolation without tying it to your network.</p>
</blockquote>
<hr>
</section>
</section>
<section id="how-an-ec2-instance-in-a-private-subnet-reaches-the-internet" class="level2">
<h2 class="anchored" data-anchor-id="how-an-ec2-instance-in-a-private-subnet-reaches-the-internet">4.5 How an EC2 Instance in a Private Subnet reaches the Internet</h2>
<p><img src="./images/how_EC2_in_private_subnet.png" class="img-fluid"></p>
<hr>
</section>
<section id="common-network-troubleshooting-steps-for-amazon-vpc" class="level2">
<h2 class="anchored" data-anchor-id="common-network-troubleshooting-steps-for-amazon-vpc">4.6 10 Common network troubleshooting steps for Amazon VPC</h2>
<p>Below is a list of configurations you should check if you ever have <code>a public EC2 instance with a web application</code> that is not loading as expected.</p>
<ol type="1">
<li><p>Internet gateway &gt; Is IGW attached to VPC? &gt; Without the internet gateway, no traffic will be allowed in or out of the VPC.</p></li>
<li><p>Route tables</p></li>
</ol>
<blockquote class="blockquote">
<p>Does the route table of the subnet that has the EC2 application have destination as <code>0.0.0.0/0</code> and target as <code>igw</code> ? This route allows outbound traffic to the internet and makes the subnet a <code>public</code> subnet</p>
</blockquote>
<ol start="3" type="1">
<li>Security groups</li>
</ol>
<blockquote class="blockquote">
<p>By default all inbound traffic is blocked. Make sure there are inbound rules allowing HTTP (port 80) and/or HTTPS (port 443) traffic from the internet (0.0.0.0/0). Also, verify that outbound rules allow traffic to leave the instance.</p>
</blockquote>
<ol start="4" type="1">
<li>Network Access Control Lists</li>
</ol>
<blockquote class="blockquote">
<p>Check the NACLs associated with the subnet that has the EC2 instance NACLs are stateless, so you must explicitly allow both inbound and outbound rules that allow the http and https rules to subnet</p>
</blockquote>
<ol start="5" type="1">
<li>Public IP address (Most important one :))</li>
</ol>
<blockquote class="blockquote">
<p>Ensure you have <code>auto-assign IP address</code> when launching EC2 instance</p>
</blockquote>
<ol start="6" type="1">
<li>HTTP vs HTTPS</li>
</ol>
<blockquote class="blockquote">
<p>Confirm that your application is accessible via the correct protocol. If your application is configured for HTTPS, ensure SSL/TLS certificates are correctly installed and configured. Also, check if the web browser is trying to connect via the wrong protocol (HTTP instead of HTTPS or vice versa). For this course, the application is operating via HTTP, double check that your browser is not trying to connect via HTTPS. You can do this by selecting the address bar in the browser and making sure the address starts with http and not https.</p>
</blockquote>
<ol start="7" type="1">
<li>User data script</li>
</ol>
<blockquote class="blockquote">
<p>If your instance uses a user data script to configure the application on launch, verify that the script has run successfully.</p>
</blockquote>
<blockquote class="blockquote">
<p>Check the instance logs (<code>/var/log/cloud-init.log</code> or <code>/var/log/cloud-init-output.log</code>) for any errors that may have occurred during the execution of the user data script.</p>
</blockquote>
<ol start="8" type="1">
<li>Permissions (another important one)</li>
</ol>
<blockquote class="blockquote">
<p>Verify the permissions and roles attached to your EC2 instance. Ensure the instance has the necessary IAM roles and policies to access any required AWS services, such as S3, DynamoDB, or RDS.</p>
</blockquote>
<ol start="9" type="1">
<li>Personal network permissions</li>
</ol>
<blockquote class="blockquote">
<p>Ensure that your personal or corporate network does not have restrictions blocking access to the public IP address of your EC2 instance.</p>
</blockquote>
<blockquote class="blockquote">
<p>Some networks might have firewalls or proxy settings that could block outbound traffic to certain IP ranges or ports.</p>
</blockquote>
<ol start="10" type="1">
<li>Application Code Logs</li>
</ol>
<blockquote class="blockquote">
<p>Ensure that your application code is correctly deployed and running. Check the application’s logs to diagnose any runtime errors. Also, make sure the web server (e.g., Apache, Nginx) is installed and running.</p>
</blockquote>
<hr>
</section>
<section id="notes-from-networking-quiz" class="level2">
<h2 class="anchored" data-anchor-id="notes-from-networking-quiz">4.7 Notes from <code>Networking</code> Quiz:</h2>
<ul>
<li>For creating VPC, you need to choose a region. We can have multiple AZs and multiple subnets inside that VPC</li>
<li>Route Table can be attached to subnets and the overall VPC. The route table attached to the VPC is typically called the <code>main route table</code></li>
<li>Custom Route Tables are for specific subnets</li>
<li>If you have a resource in a public subnet, you need to attach an Internet Gateway to the VPC and create a route in the route table of the subnet to the internet gateway (then only it will be called a public subnet)</li>
<li>By default, a <code>security group</code> blocks all incoming traffic and allows all outgoing traffic. It is stateful (meaning an result of an incoming traffic is allowed automatically)</li>
<li>The <code>default NACL</code> is associated with all subnets in the VPC by default, allowing all traffic.</li>
<li><code>Custom NACLs</code>: If you create a custom NACL, it denies all traffic by default until you specify rules. You can associate custom NACLs with specific subnets to override the default NACL’s behavior.</li>
<li>Size of the network is determined by the <code>CIDR</code> notation. <code>/16</code> is a larger network than <code>/28</code></li>
</ul>
<p><a href="https://github.com/salimt/Courses-/blob/master/AWS%20Cloud%20Solutions%20Architect%20Professional/c01-%20AWS%20Cloud%20Technical%20Essentials/w2-%20AWS%20Compute%20and%20Networking/Week%202%20Quiz%20_%20Coursera.pdf">A Github Source for Week 2 Quiz</a></p>
<hr>
</section>
<section id="chatgpt-interactions-on-nacl-and-security-group" class="level2">
<h2 class="anchored" data-anchor-id="chatgpt-interactions-on-nacl-and-security-group">ChatGPT Interactions on NACL and Security Group</h2>
<pre><code>Q) Give me aws cli command to add NACL rules and security group rules</code></pre>
<p>Here are AWS CLI commands to add <strong>NACL rules</strong> and <strong>Security Group rules</strong>:</p>
<section id="add-rules-to-a-network-acl-nacl" class="level3">
<h3 class="anchored" data-anchor-id="add-rules-to-a-network-acl-nacl">1. <strong>Add Rules to a Network ACL (NACL)</strong>:</h3>
<p>To add an inbound or outbound rule to a <strong>Network ACL</strong>, you can use the <code>aws ec2 create-network-acl-entry</code> command.</p>
<section id="example-command-for-adding-an-inbound-rule-to-allow-http-traffic" class="level4">
<h4 class="anchored" data-anchor-id="example-command-for-adding-an-inbound-rule-to-allow-http-traffic">Example Command for Adding an Inbound Rule to Allow HTTP Traffic:</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">aws</span> ec2 create-network-acl-entry <span class="dt">\</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--network-acl-id</span> acl-0123456789abcdef0 <span class="dt">\</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--ingress</span> <span class="dt">\</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--rule-number</span> 100 <span class="dt">\</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">--protocol</span> 6 <span class="dt">\</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">--port-range</span> From=80,To=80 <span class="dt">\</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">--cidr-block</span> 0.0.0.0/0 <span class="dt">\</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">--rule-action</span> allow</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li><strong><code>--network-acl-id</code></strong>: The ID of the NACL.</li>
<li><strong><code>--ingress</code></strong>: Indicates that the rule is for inbound traffic (use <code>--egress</code> for outbound).</li>
<li><strong><code>--rule-number</code></strong>: A unique number for the rule (rules are evaluated in order).</li>
<li><strong><code>--protocol</code></strong>: Protocol number (<code>6</code> for TCP, <code>-1</code> for all protocols).</li>
<li><strong><code>--port-range</code></strong>: The port range (in this case, HTTP traffic on port 80).</li>
<li><strong><code>--cidr-block</code></strong>: The source CIDR block.</li>
<li><strong><code>--rule-action</code></strong>: Whether to <code>allow</code> or <code>deny</code> the traffic.</li>
</ul>
</section>
<section id="example-command-for-adding-an-outbound-rule-to-allow-all-traffic" class="level4">
<h4 class="anchored" data-anchor-id="example-command-for-adding-an-outbound-rule-to-allow-all-traffic">Example Command for Adding an Outbound Rule to Allow All Traffic:</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">aws</span> ec2 create-network-acl-entry <span class="dt">\</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--network-acl-id</span> acl-0123456789abcdef0 <span class="dt">\</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--egress</span> <span class="dt">\</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--rule-number</span> 101 <span class="dt">\</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">--protocol</span> <span class="at">-1</span> <span class="dt">\</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">--port-range</span> From=0,To=65535 <span class="dt">\</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">--cidr-block</span> 0.0.0.0/0 <span class="dt">\</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">--rule-action</span> allow</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="add-rules-to-a-security-group" class="level3">
<h3 class="anchored" data-anchor-id="add-rules-to-a-security-group">2. <strong>Add Rules to a Security Group</strong>:</h3>
<p>To add inbound or outbound rules to a <strong>Security Group</strong>, use the <code>aws ec2 authorize-security-group-ingress</code> or <code>authorize-security-group-egress</code> command.</p>
<section id="example-command-for-adding-an-inbound-rule-to-allow-ssh-port-22-from-a-specific-ip" class="level4">
<h4 class="anchored" data-anchor-id="example-command-for-adding-an-inbound-rule-to-allow-ssh-port-22-from-a-specific-ip">Example Command for Adding an Inbound Rule to Allow SSH (Port 22) from a Specific IP:</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">aws</span> ec2 authorize-security-group-ingress <span class="dt">\</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--group-id</span> sg-0123456789abcdef0 <span class="dt">\</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--protocol</span> tcp <span class="dt">\</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--port</span> 22 <span class="dt">\</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">--cidr</span> 203.0.113.0/32 <span class="dt">\</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">--description</span> <span class="st">"Allow SSH from admin IP"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li><strong><code>--group-id</code></strong>: The ID of the security group.</li>
<li><strong><code>--protocol</code></strong>: Protocol type (<code>tcp</code>, <code>udp</code>, <code>icmp</code>, etc.).</li>
<li><strong><code>--port</code></strong>: The port to allow (e.g., <code>22</code> for SSH).</li>
<li><strong><code>--cidr</code></strong>: The CIDR block that is allowed access (a specific IP or range).</li>
<li><strong><code>--description</code></strong>: Optional, a brief description of the rule.</li>
</ul>
</section>
<section id="example-command-for-adding-an-outbound-rule-to-allow-https-port-443-to-all-ips" class="level4">
<h4 class="anchored" data-anchor-id="example-command-for-adding-an-outbound-rule-to-allow-https-port-443-to-all-ips">Example Command for Adding an Outbound Rule to Allow HTTPS (Port 443) to All IPs:</h4>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">aws</span> ec2 authorize-security-group-egress <span class="dt">\</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">--group-id</span> sg-0123456789abcdef0 <span class="dt">\</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">--protocol</span> tcp <span class="dt">\</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">--port</span> 443 <span class="dt">\</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">--cidr</span> 0.0.0.0/0 <span class="dt">\</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">--description</span> <span class="st">"Allow outbound HTTPS traffic"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="tips" class="level3">
<h3 class="anchored" data-anchor-id="tips"><strong>Tips</strong>:</h3>
<ul>
<li><strong>Remove Rules</strong>: Use <code>aws ec2 revoke-network-acl-entry</code> or <code>aws ec2 revoke-security-group-ingress/egress</code> to remove existing rules.</li>
<li><strong>List Rules</strong>: Use <code>aws ec2 describe-network-acls</code> or <code>aws ec2 describe-security-groups</code> to view current rules.</li>
</ul>
<hr>
</section>
</section>
</section>
<section id="storage" class="level1">
<h1>5. Storage</h1>
<section id="storage-types-on-aws" class="level2">
<h2 class="anchored" data-anchor-id="storage-types-on-aws">5.1 Storage Types on AWS</h2>
<p>3 Different AWS Storage Types: - block storage - file storage - object storage</p>
<section id="file-storage" class="level3">
<h3 class="anchored" data-anchor-id="file-storage">5.1.1 File Storage</h3>
<ul>
<li>Structure: Data is stored as files in a tree-like hierarchical directory structure (like a traditional file system).</li>
</ul>
<blockquote class="blockquote">
<p>Each file has metadata such as file name, file size, and the date the file was created. The file also has a path, for example, computer/Application_files/Cat_photos/cats-03.png. When you need to retrieve a file, your system can use the path to find it in the file hierarchy.</p>
</blockquote>
<blockquote class="blockquote">
<p>Every additional folder adds latency to the structure</p>
</blockquote>
<p>Usecases: - Large content repositories - Development environments - User home directories</p>
</section>
<section id="block-storage" class="level3">
<h3 class="anchored" data-anchor-id="block-storage">5.1.2 Block Storage</h3>
<ul>
<li>While file storage treats files as a singular unit, block storage splits files into fixed-size chunks of data called blocks that have their own addresses. Since each block is addressable, blocks can be retrieved efficiently.</li>
</ul>
<p><img src="./images/block_storage.png" class="img-fluid"></p>
</section>
<section id="object-storage" class="level3">
<h3 class="anchored" data-anchor-id="object-storage">5.1.2 Object Storage</h3>
<ul>
<li>Very similar to File Storage but no <code>hierarchical</code> storage</li>
<li>Flat structure</li>
<li>Each object is a file with a unique identifier. This identifier, along with any additional metadata, is bundled with the data and stored.</li>
</ul>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>File Storage</th>
<th>Object Storge</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Hierarchy - YES; Folder or tree-like structure</td>
<td>Flat Structure. No hierarchy</td>
</tr>
<tr class="even">
<td>Good for low-latency read-write</td>
<td>Good for high throughput</td>
</tr>
<tr class="odd">
<td>Edit a portion, you overwrite the whole file</td>
<td>Edit a portion, you overwrite the whole object</td>
</tr>
<tr class="even">
<td>Amazon EFS</td>
<td>Amazon S3</td>
</tr>
</tbody>
</table>
<hr>
</section>
</section>
<section id="amazon-ec2-instance-store-and-amazon-elastic-block-store" class="level2">
<h2 class="anchored" data-anchor-id="amazon-ec2-instance-store-and-amazon-elastic-block-store">5.2: Amazon EC2 Instance Store and Amazon Elastic Block Store</h2>
<section id="the-two-types-of-ec2-instance-storage-options" class="level3">
<h3 class="anchored" data-anchor-id="the-two-types-of-ec2-instance-storage-options">5.2.1 The two types of EC2 Instance Storage Options</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  A[[Temporary&lt;br&gt;Instance Store]]
  B[[Permanent&lt;br&gt;EBS]]
  C(Storage connected&lt;br&gt;to EC2)
  C --&gt; A
  C --&gt; B  
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="how-many-ebs-volumes-to-every-ec2-instance" class="level3">
<h3 class="anchored" data-anchor-id="how-many-ebs-volumes-to-every-ec2-instance">5.2.2 How many EBS Volumes to every EC2 Instance</h3>
<p><strong>1 EC2 to Many EBS Volumes</strong>:</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
  EC[EC2]
  EB1[[EBS 1]]
  EB2[[EBS 2]]
  EB3[[EBS 3]]
  EC --&gt; EB1
  EC --&gt; EB2
  EC --&gt; EB3
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<blockquote class="blockquote">
<p><code>In the same AZ</code>, an EBS can be detached from 1 EC2 and connected to a new EC2 instance</p>
</blockquote>
<p><strong>1 EBS to 1 EC2</strong> (typically):</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
  EC[EC2] --&gt; EB1[[EBS 1]]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p><strong>1 EBS volume to Many EC2 Instances</strong> (recently supported for some instances):</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
  EB1[[EBS 1]]
  ECA[EC2 A]
  ECB[EC2 B]

  EB1 --&gt; ECA
  EB1 --&gt; ECB
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Additional Points:</p>
<blockquote class="blockquote">
<p>The external drive is separate from the computer. That means, if an accident happens and the computer goes down, you still have your data on your external drive. The same is true for EBS volumes.</p>
</blockquote>
<blockquote class="blockquote">
<p>You’re limited to the size of the external drive, since it has a fixed limit to how scalable it can be. For example, you may have a 2 TB external drive and that means you can only have 2 TB of content on there. This relates to EBS as well, since volumes also have a max limitation of how much content you can store on the volume.</p>
</blockquote>
</section>
<section id="how-to-scale-amazon-ebs-volumes" class="level3">
<h3 class="anchored" data-anchor-id="how-to-scale-amazon-ebs-volumes">5.2.3 How to scale Amazon EBS Volumes</h3>
<ol type="1">
<li><p>Increase the volume size, as long as it doesn’t increase above the maximum size limit. For EBS volumes, the maximum amount of storage you can have is 16 TB. That means if you provision a 5 TB EBS volume, you can choose to increase the size of your volume until you get to 16 TB.</p></li>
<li><p>Attach multiple volumes to a single Amazon EC2 instance. EC2 has a one-to-many relationship with EBS volumes. You can add these additional volumes during or after EC2 instance creation to provide more storage capacity for your hosts.</p></li>
</ol>
</section>
<section id="two-types-of-amis-for-ec2-instances" class="level3">
<h3 class="anchored" data-anchor-id="two-types-of-amis-for-ec2-instances">5.2.4 Two types of AMIs for EC2 Instances</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  AMI(AMI)
  AMI1[[Instance Store&lt;br&gt;Backed AMI]]
  AMI2[[EBS-Volume&lt;br&gt;backed AMI&lt;br&gt;most common]]
  AMI --&gt; AMI1
  AMI --&gt; AMI2   
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p><strong>Key Points</strong>: - When EC2 running on instance-store backed AMI is stopped, data is lost. - Instance-store backed AMIs are useful for stateless applications - It can be rebooted without losing data</p>
</section>
<section id="latency-vs-throughput-discussion" class="level3">
<h3 class="anchored" data-anchor-id="latency-vs-throughput-discussion">5.2.5 <strong>Latency vs Throughput</strong> discussion</h3>
<p>Latency: - Amount of time it takes for ONE data packet to reach its destination - For databases and Web &lt;-&gt; Server Interactions</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
  W[Web Server] -- 1 packet sent&lt;br&gt; in 10 millisec --&gt; C[Client]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Throughput: - Number of packets that can reach a destination within 1 sec - Needed in Big Data Analytics</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart LR
  W[Web Server] -- 10 packets sent&lt;br&gt; in 1 sec --&gt; C[Client]
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="types-of-ebs-volumes" class="level3">
<h3 class="anchored" data-anchor-id="types-of-ebs-volumes">5.2.6 Types of EBS Volumes</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  EBS(EBS Volumes)
  subgraph SSD
    EBS_SSD(EBS SSD)
    SSD1[[EBS Provisioned IOPS SSD]]
    SSD2[[EBS General Purpose SSD]]
    EBS_SSD --&gt; SSD1
    EBS_SSD --&gt; SSD2
    SSD1 --&gt; app1((for latency sensitive&lt;br&gt;workloads))
    app1 --&gt; ex1((E.g. I/O intensive&lt;br&gt; NoSQL RDS&lt;br&gt;e.g. io2,io3))
    SSD2 --&gt; app2((for general purpose;&lt;br&gt;variety of transactional&lt;br&gt;workloads))
    app2 --&gt; ex2((for low-latency interactive apps;&lt;br&gt;e.g.:gp2,gp3)) 
    max1((Max IOPS/Volume =&lt;br&gt; 64K))
    vol_size1((Vol Size =&lt;br&gt; 4GB - 16 TB))
    max2((Max IOPS/Volume =&lt;br&gt; 16K))
    vol_size2((Vol Size =&lt;br&gt; 1GB - 16 TB))
    ex1 --&gt; max1
    ex2 --&gt; max2 
    max1 --&gt; vol_size1
    max2 --&gt; vol_size2
  end
  subgraph HDD
    EBS_HDD(EBS HDD)
    HDD1[[Throughput&lt;br&gt;Optimized HDD]]
    HDD2[[Cold HDD]]
    apphd1((for frequently accessed&lt;br&gt;throughput intensive&lt;br&gt;workloads))
    apphd2((for less frequently&lt;br&gt;accessed workloads))
    maxhd1((Max IOPS/Volume =&lt;br&gt; 500))
    vol_sizehd1((Vol Size =&lt;br&gt; 500GB - 16 TB))
    maxhd2((Max IOPS/Volume =&lt;br&gt; 250))
    vol_sizehd2((Vol Size =&lt;br&gt; 500GB - 16 TB))
    EBS_HDD --&gt; HDD1
    EBS_HDD --&gt; HDD2
    HDD1 --&gt; apphd1 --&gt; maxhd1 --&gt; vol_sizehd1
    HDD2 --&gt; apphd2 --&gt; maxhd2 --&gt; vol_sizehd2
  end      
  EBS --&gt; EBS_SSD
  EBS --&gt; EBS_HDD
  style HDD fill:#FFFF00,stroke:#333,stroke-width:2px
  style SSD fill:#FFFF00,stroke:#333,stroke-width:2px
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Key Point: - solid-state drives (SSDs) are faster and expensive than hard-disk drives (HDDs)</p>
<table class="caption-top table">
<colgroup>
<col style="width: 37%">
<col style="width: 37%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>Need on Latency/Throughput</th>
<th>Applications</th>
<th>Most suited type of EBS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Very low latency</td>
<td>Databases, payment systems</td>
<td>Provisioned IOPS SSD</td>
</tr>
<tr class="even">
<td>low latency</td>
<td>Web Server</td>
<td>General Purpose SSD</td>
</tr>
<tr class="odd">
<td>Very high throughput</td>
<td>Big Data</td>
<td>Throughput optimized HDD</td>
</tr>
<tr class="even">
<td>can tolerate high latency but still might need good throughput because of data transer</td>
<td>Infrequently accessed data</td>
<td>Cold HDD</td>
</tr>
</tbody>
</table>
</section>
<section id="backups-via-ebs-snapshots" class="level3">
<h3 class="anchored" data-anchor-id="backups-via-ebs-snapshots">5.2.7 Backups via EBS Snapshots:</h3>
<ul>
<li>Concept: Incremental backups
<ul>
<li>First time: Stores the entire data</li>
<li>Second Snapshot: Store only data on what has changed</li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="object-storage-with-amazon-s3" class="level2">
<h2 class="anchored" data-anchor-id="object-storage-with-amazon-s3">5.3: Object Storage with Amazon S3</h2>
<section id="what-is-amazon-s3-understand-amazon-s3-concepts" class="level3">
<h3 class="anchored" data-anchor-id="what-is-amazon-s3-understand-amazon-s3-concepts">5.3.1 WHAT IS AMAZON S3? UNDERSTAND AMAZON S3 CONCEPTS</h3>
<ul>
<li>Amazon S3 is an object storage service.</li>
<li>Object storage stores data in a flat structure, using unique identifiers to look up objects when requested. An object is simply a file combined with metadata and that you can store as many of these objects as you’d like.</li>
<li>All of these characteristics of object storage are also characteristics of Amazon S3.</li>
</ul>
<p><img src="./images/s3_url_structure.png" class="img-fluid"></p>
</section>
<section id="security-for-s3-objects" class="level3">
<h3 class="anchored" data-anchor-id="security-for-s3-objects">5.3.2 Security for S3 Objects</h3>
<ul>
<li>Everything is private by default</li>
</ul>
<blockquote class="blockquote">
<p>If you decide that you want everyone on the internet to see your photos, you can choose to make your buckets, folders, and objects public. Keep in mind that a public resource means that everyone on the internet can see it. Most of the time, you don’t want your permissions to be all or nothing. Typically, you want to be more granular about the way you provide access to your resources.</p>
</blockquote>
<p>Amazon S3 provides two main access management features: <code>IAM policies</code> and <code>S3 bucket policies</code>.</p>
</section>
<section id="when-should-one-use-s3-bucket-policies" class="level3">
<h3 class="anchored" data-anchor-id="when-should-one-use-s3-bucket-policies">5.3.3 When should one use S3 bucket policies:</h3>
<ul>
<li>When you need a simple way to do cross-account access to S3, without using IAM roles.</li>
<li>Your IAM policies bump up against the defined size limit. S3 bucket policies have a larger size limit.</li>
</ul>
<blockquote class="blockquote">
<p>S3 Bucket policies can only be placed on buckets, and cannot be used for folders or objects.</p>
</blockquote>
</section>
<section id="encrypt-s3" class="level3">
<h3 class="anchored" data-anchor-id="encrypt-s3">5.3.3 ENCRYPT S3</h3>
<p>Amazon <strong>S3 reinforces encryption in transit</strong> (as it travels to and from Amazon S3) and <strong>at rest</strong>. To protect data at rest, you can use:</p>
<p><strong>Server-side encryption</strong>: This allows Amazon S3 to encrypt your object before saving it on disks in its data centers and then decrypt it when you download the objects.</p>
<p><strong>Client-side encryption</strong>: Encrypt your data client-side and upload the encrypted data to Amazon S3. In this case, you manage the encryption process, the encryption keys, and all related tools.</p>
</section>
<section id="use-versioning-to-preserve-objects" class="level3">
<h3 class="anchored" data-anchor-id="use-versioning-to-preserve-objects">5.3.4 USE VERSIONING TO PRESERVE OBJECTS</h3>
<p>Versioning-enabled buckets let you recover objects from accidental deletion or overwrite.</p>
<blockquote class="blockquote">
<p>Deleting an object does not remove the object permanently. Instead, Amazon S3 puts a marker on the object that shows you tried to delete it. If you want to restore the object, you can remove this marker and it reinstates the object.</p>
</blockquote>
<blockquote class="blockquote">
<p>If you overwrite an object, it results in a new object version in the bucket. You still have access to previous versions of the object.</p>
</blockquote>
<p>Buckets can be in one of three states.</p>
<ul>
<li>Unversioned (the default): No new or existing objects in the bucket have a version.</li>
<li>Versioning-enabled: This enables versioning for all objects in the bucket.</li>
<li>Versioning-suspended: This suspends versioning for new objects. All new objects in the bucket will not have a version. However, all existing objects keep their object versions.</li>
</ul>
</section>
<section id="amazon-s3-storage-classes" class="level3">
<h3 class="anchored" data-anchor-id="amazon-s3-storage-classes">5.3.5 AMAZON S3 STORAGE CLASSES</h3>
<p>Here are the main types of Amazon S3 storage options:</p>
<ol type="1">
<li><p><strong>S3 Standard</strong> Use Case: Frequently accessed data. Availability: 99.99%. Durability: 99.999999999% (11 nines). Performance: Low latency, high throughput. Cost: Higher cost compared to other classes. Typical Uses: Websites, content distribution, data analytics, and mobile applications.</p></li>
<li><p><strong>S3 Intelligent-Tiering</strong> Use Case: Data with unpredictable access patterns. Availability: 99.9%. Durability: 99.999999999% (11 nines). Performance: Automatically moves data between two access tiers (frequent and infrequent) to optimize cost. Cost: Slightly higher than Standard but saves on infrequently accessed data by automatically moving data to lower-cost storage tiers.</p></li>
<li><p><strong>S3 Standard-Infrequent Access (S3 Standard-IA)</strong> Use Case: Data that is infrequently accessed but requires rapid access when needed. Availability: 99.9%. Durability: 99.999999999% (11 nines). Cost: Lower storage cost, higher retrieval cost compared to S3 Standard. Typical Uses: Backups, disaster recovery, long-term storage.</p></li>
<li><p><strong>S3 One Zone-Infrequent Access (S3 One Zone-IA)</strong> Use Case: Infrequently accessed data that doesn’t require multi-zone redundancy. Availability: 99.5%. Durability: 99.999999999% (11 nines) within a single Availability Zone. Cost: Lower cost than S3 Standard-IA. Typical Uses: Data that can be recreated easily, backups, or secondary copies.</p></li>
<li><p><strong>S3 Glacier</strong></p></li>
</ol>
<p>Use Case: Long-term archive storage where retrieval time can range from minutes to hours. Availability: 99.99%. Durability: 99.999999999% (11 nines). Cost: Very low storage cost, retrieval incurs additional cost and delay. Typical Uses: Archival data, regulatory compliance, and historical records.</p>
<ol start="6" type="1">
<li><p><strong>S3 Glacier Deep Archive</strong> Use Case: Long-term archive for data that is rarely accessed and has retrieval times of up to 12 hours. Availability: 99.99%. Durability: 99.999999999% (11 nines). Cost: Lowest-cost storage option in S3, with higher retrieval times. Typical Uses: Long-term data retention for compliance or legal purposes.</p></li>
<li><p><strong>S3 Outposts</strong> Use Case: Storing data on-premises for applications that need local data residency. Durability: Same as S3 (99.999999999%). Typical Uses: Local workloads that need low latency or local data processing, and when compliance requires data to stay on-premises.</p></li>
</ol>
</section>
<section id="automate-tier-transitions-with-object-lifecycle-management" class="level3">
<h3 class="anchored" data-anchor-id="automate-tier-transitions-with-object-lifecycle-management">5.3.6 AUTOMATE TIER TRANSITIONS WITH OBJECT LIFECYCLE MANAGEMENT</h3>
<p>When you define a lifecycle policy configuration for an object or group of objects, you can choose to automate two actions: transition and expiration actions.</p>
<ul>
<li>Transition actions are used to define when you should transition your objects to another storage class.</li>
<li>Expiration actions define when objects expire and should be permanently deleted.</li>
</ul>
<p>The following use cases are good candidates for lifecycle management.</p>
<ul>
<li><p>Periodic logs: If you upload periodic logs to a bucket, your application might need them for a week or a month. After that, you might want to delete them.</p></li>
<li><p>Data that changes in access frequency: Some documents are frequently accessed for a limited period of time. After that, they are infrequently accessed. At some point, you might not need real-time access to them, but your organization or regulations might require you to archive them for a specific period. After that, you can delete them.</p></li>
</ul>
</section>
<section id="aws-storage-services-recap" class="level3">
<h3 class="anchored" data-anchor-id="aws-storage-services-recap">5.3.7 AWS Storage Services Recap</h3>
<section id="amazon-ec2-instance-store" class="level4">
<h4 class="anchored" data-anchor-id="amazon-ec2-instance-store">Amazon EC2 Instance Store</h4>
<ul>
<li>Instance store is ephemeral block storage</li>
<li>For stateless applications</li>
</ul>
<blockquote class="blockquote">
<p>EC2 Instance Store is not meant for data that is persistent or long-lasting. If you need persistent long-term block storage that can be detached from Amazon EC2 and provide you more management flexibility, such as increasing volume size or creating snapshots, then you should use Amazon EBS.</p>
</blockquote>
</section>
<section id="amazon-ebs" class="level4">
<h4 class="anchored" data-anchor-id="amazon-ebs">Amazon EBS</h4>
<p>Amazon EBS is meant for data that changes frequently and needs to persist through instance stops, terminations, or hardware failures. Amazon EBS has two different types of volumes</p>
<ul>
<li>SSD - For I/O-sensitive workloads</li>
<li>HDD - For Throughput-intensive workloads</li>
</ul>
</section>
<section id="amazon-s3" class="level4">
<h4 class="anchored" data-anchor-id="amazon-s3">Amazon S3</h4>
<ul>
<li>It is object storage.</li>
<li>You pay for what you use (you don’t have to provision storage in advance).</li>
<li>Amazon S3 replicates your objects across multiple Availability Zones in a Region.</li>
<li>Amazon S3 is not storage attached to compute.</li>
</ul>
</section>
<section id="amazon-elastic-file-system-amazon-efs-and-amazon-fsx" class="level4">
<h4 class="anchored" data-anchor-id="amazon-elastic-file-system-amazon-efs-and-amazon-fsx">Amazon Elastic File System (Amazon EFS) and Amazon FSx</h4>
<ul>
<li>Also Serverless</li>
<li>No need to provision in advance</li>
<li>Pay for what you use</li>
</ul>
<hr>
</section>
</section>
</section>
<section id="notes-from-storage-quiz" class="level2">
<h2 class="anchored" data-anchor-id="notes-from-storage-quiz">5.4 Notes from <code>Storage</code> Quiz</h2>
<ul>
<li>The size of an individual object in S3 can be 5 TB. S3 can be really useful for media hosting and storing videos</li>
<li>EBS works well as a storage layer for high transaction relational database.</li>
<li>The data on an instance store volume (also informally referred to as local storage of the EC2 instance) persists even if the instance is rebooted. However, the data does not persist if the instance is stopped, hibernated, or terminated.</li>
<li><code>S3 Standard Infrequent Access</code> when rarely accessed file need quick retrieval vs <code>S3 Glacier Deep Archive</code> (the lowest-cost option) when rarely accessed file needs to be stored only for legal requirements and are ok for longer retrieval times</li>
<li><code>Block Storage</code> is the best storage option if only a small portion of the files require change.</li>
<li><code>Amazon DynamoDB</code> allows <code>flexible schema</code> - where the <code>items</code> in a table can have varying attributes outside of the <code>primary</code> and <code>secondary</code> key</li>
</ul>
<p><a href="https://github.com/salimt/Courses-/blob/master/AWS%20Cloud%20Solutions%20Architect%20Professional/c01-%20AWS%20Cloud%20Technical%20Essentials/w3-%20AWS%20Storage%20and%20Databases/Week%203%20Quiz%20_%20Coursera.pdf">Storage Quiz</a></p>
<hr>
</section>
</section>
<section id="databases-in-aws" class="level1">
<h1>6. Databases in AWS</h1>
<section id="my-chatgpt-interactions-on-databases-in-aws" class="level2">
<h2 class="anchored" data-anchor-id="my-chatgpt-interactions-on-databases-in-aws">6.1 My ChatGPT Interactions on Databases in AWS</h2>
<section id="q-what-is-the-difference-between-database-data-warehouse-and-data-lake.-explain-with-examples-from-aws." class="level3">
<h3 class="anchored" data-anchor-id="q-what-is-the-difference-between-database-data-warehouse-and-data-lake.-explain-with-examples-from-aws.">6.1.1 Q) What is the difference between database, data warehouse and data lake. Explain with examples from AWS.</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  Q((Where is&lt;br&gt;data stored?))
  A1[[Database]]
  A2[[Data Warehouse]]
  A3[[Data Lake]]

  P1((for OLTP))
  P2((for OLAP))
  P3((for storing raw data))

  E1[Amazon RDS&lt;br&gt;for an e-commerce&lt;br&gt;application]
  E2[Amazon Redshift&lt;br&gt;to query and analyze &lt;br&gt;vast amounts of &lt;br&gt;structured data&lt;br&gt;quickly and efficiently.]
  E3[Amazon S3&lt;br&gt;for storing vast amounts of&lt;br&gt;unstructured raw data]

  Q --&gt; A1 
  Q --&gt; A2
  Q --&gt; A3

  A1 --&gt; P1 --&gt; E1
  A2 --&gt; P2 --&gt; E2
  A3 --&gt; P3 --&gt; E3   
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>The terms <strong>database</strong>, <strong>data warehouse</strong>, and <strong>data lake</strong> all refer to systems for managing and storing data, but they serve different purposes and are optimized for different types of data and use cases. Here’s a breakdown, along with AWS examples:</p>
<section id="database" class="level4">
<h4 class="anchored" data-anchor-id="database">1. <strong>Database</strong></h4>
<ul>
<li><p><strong>Purpose:</strong> A <strong>database</strong> is designed to store structured data that can be easily queried and updated. It’s typically used for transactional processing (OLTP: Online Transaction Processing) where you need to manage day-to-day operations like inserts, updates, and deletes efficiently.</p></li>
<li><p><strong>Data Type:</strong> Structured data (e.g., relational data with tables, rows, and columns).</p></li>
<li><p><strong>Use Cases:</strong> Applications like inventory management, customer management, e-commerce websites, or any app that involves a lot of concurrent, real-time transactions.</p></li>
<li><p><strong>AWS Example:</strong></p>
<ul>
<li><strong>Amazon RDS (Relational Database Service):</strong> Supports databases like MySQL, PostgreSQL, SQL Server, and Oracle. It’s managed, which means AWS takes care of backups, patching, and scaling.</li>
<li><strong>Amazon DynamoDB:</strong> A NoSQL database for high-speed, low-latency performance, often used for large-scale applications that require flexible data models.</li>
</ul></li>
</ul>
<p><strong>Example Use Case:</strong> An e-commerce website storing customer orders and product information in <strong>Amazon RDS</strong> for efficient querying and real-time updates.</p>
<hr>
</section>
<section id="data-warehouse" class="level4">
<h4 class="anchored" data-anchor-id="data-warehouse">2. <strong>Data Warehouse</strong></h4>
<ul>
<li><p><strong>Purpose:</strong> A <strong>data warehouse</strong> is optimized for <strong>analytical processing</strong> (OLAP: Online Analytical Processing) where large volumes of structured data are aggregated and analyzed. It is ideal for complex queries, reporting, and business intelligence (BI) tasks.</p></li>
<li><p><strong>Data Type:</strong> Primarily structured data, although it may support semi-structured data (e.g., JSON or Parquet formats). Data is typically cleaned and organized before loading into a data warehouse.</p></li>
<li><p><strong>Use Cases:</strong> Business analytics, trend analysis, data mining, generating reports or dashboards across large data sets (e.g., sales trends across regions or customer segments).</p></li>
<li><p><strong>AWS Example:</strong></p>
<ul>
<li><strong>Amazon Redshift:</strong> A fully managed, petabyte-scale data warehouse designed for fast query execution across large datasets. Redshift is built for complex queries and analytics, and it integrates well with BI tools like Amazon QuickSight.</li>
</ul></li>
</ul>
<p><strong>Example Use Case:</strong> A retail company uses <strong>Amazon Redshift</strong> to analyze sales data across regions to understand seasonal buying trends and forecast future demand.</p>
<hr>
</section>
<section id="data-lake" class="level4">
<h4 class="anchored" data-anchor-id="data-lake">3. <strong>Data Lake</strong></h4>
<ul>
<li><p><strong>Purpose:</strong> A <strong>data lake</strong> is a centralized repository that allows you to store <strong>structured, semi-structured, and unstructured</strong> data at any scale. It’s highly flexible and is often used to store raw data until it’s needed for analysis. It supports various formats (e.g., JSON, CSV, images, video, text logs) and allows for big data analytics and machine learning.</p></li>
<li><p><strong>Data Type:</strong> Structured, semi-structured, and unstructured data (e.g., documents, audio, videos, logs, sensor data).</p></li>
<li><p><strong>Use Cases:</strong> Data exploration, machine learning, big data analytics, and situations where you want to store a vast array of data types before deciding what analysis or processing you need.</p></li>
<li><p><strong>AWS Example:</strong></p>
<ul>
<li><strong>Amazon S3 (Simple Storage Service):</strong> Typically used to build a data lake in AWS. You can store any type of data in its native format and then later analyze it using other AWS services like AWS Glue (for data transformation), Amazon Athena (for querying), or Amazon EMR (for big data processing).</li>
</ul></li>
</ul>
<p><strong>Example Use Case:</strong> A healthcare company uses <strong>Amazon S3</strong> to store vast amounts of raw patient data, including medical images, doctor notes, and sensor data from wearables. They later process this data for machine learning models and analytics.</p>
<hr>
</section>
<section id="key-differences" class="level4">
<h4 class="anchored" data-anchor-id="key-differences">Key Differences:</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 14%">
<col style="width: 28%">
<col style="width: 30%">
<col style="width: 26%">
</colgroup>
<thead>
<tr class="header">
<th>Feature</th>
<th>Database (RDS/DynamoDB)</th>
<th>Data Warehouse (Redshift)</th>
<th>Data Lake (S3)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Primary Use</strong></td>
<td>Transactional (OLTP)</td>
<td>Analytical (OLAP)</td>
<td>Store raw data, Big Data</td>
</tr>
<tr class="even">
<td><strong>Data Type</strong></td>
<td>Structured</td>
<td>Structured, Semi-structured</td>
<td>Structured, Semi-structured, Unstructured</td>
</tr>
<tr class="odd">
<td><strong>Processing</strong></td>
<td>Real-time transactions</td>
<td>Aggregated, Complex queries</td>
<td>Data exploration, batch processing</td>
</tr>
<tr class="even">
<td><strong>AWS Service</strong></td>
<td>Amazon RDS, DynamoDB</td>
<td>Amazon Redshift</td>
<td>Amazon S3</td>
</tr>
<tr class="odd">
<td><strong>Example</strong></td>
<td>E-commerce apps, customer orders</td>
<td>Business analytics, dashboards</td>
<td>Raw data for analytics, ML</td>
</tr>
</tbody>
</table>
</section>
<section id="summary-of-aws-services" class="level4">
<h4 class="anchored" data-anchor-id="summary-of-aws-services">Summary of AWS Services:</h4>
<ul>
<li><strong>Database</strong> → <strong>Amazon RDS</strong> for relational databases or <strong>DynamoDB</strong> for NoSQL databases.</li>
<li><strong>Data Warehouse</strong> → <strong>Amazon Redshift</strong> for OLAP and analytical workloads.</li>
<li><strong>Data Lake</strong> → <strong>Amazon S3</strong> to store large datasets in various formats for big data analytics.</li>
</ul>
</section>
</section>
<section id="q-are-all-aws-databases-in-ec2-instances-are-they-named-as-db.xxx" class="level3">
<h3 class="anchored" data-anchor-id="q-are-all-aws-databases-in-ec2-instances-are-they-named-as-db.xxx">6.1.2 Q) Are all AWS Databases in EC2 instances? Are they named as db.xxx ?</h3>
<p>No, <strong>not all AWS databases run on EC2 instances</strong>, and they are <strong>not named as <code>db.xxx</code> by default</strong>. While some database services in AWS may use EC2 instances under the hood, many of them are fully managed services, meaning you don’t need to worry about the underlying EC2 infrastructure. Let me explain further:</p>
<section id="managed-databases-not-necessarily-tied-to-ec2-instances" class="level4">
<h4 class="anchored" data-anchor-id="managed-databases-not-necessarily-tied-to-ec2-instances">1. <strong>Managed Databases</strong> (Not necessarily tied to EC2 instances)</h4>
<p>AWS provides <strong>fully managed databases</strong>, which abstract away the underlying infrastructure, including EC2 instances, networking, and scaling. With these services, AWS handles most operational tasks like backups, patching, scaling, and failover.</p>
<p>Here are some examples of <strong>fully managed AWS database services</strong>: - <strong>Amazon RDS (Relational Database Service):</strong> A managed service for relational databases like MySQL, PostgreSQL, Oracle, SQL Server, and MariaDB. It is designed to handle the operational management of these databases, though the actual database may run on EC2 instances in the background. As a user, you don’t have direct access to the underlying EC2 instances.</p>
<ul>
<li><p><strong>Amazon Aurora:</strong> A high-performance, MySQL- and PostgreSQL-compatible relational database built for the cloud. Like RDS, Aurora abstracts away the EC2 instances, providing a managed environment.</p></li>
<li><p><strong>Amazon DynamoDB:</strong> A fully managed NoSQL database that scales horizontally. It doesn’t require EC2 instances, and you don’t need to manage the underlying servers or instances.</p></li>
<li><p><strong>Amazon Redshift:</strong> A managed data warehouse that allows you to run analytics on structured data. While Redshift clusters are backed by EC2 instances, you manage them at a higher level through the Redshift interface.</p></li>
<li><p><strong>Amazon DocumentDB:</strong> A fully managed MongoDB-compatible database that abstracts away the underlying EC2 instances.</p></li>
</ul>
<p>In these fully managed services, the database instances are <strong>not explicitly named as <code>db.xxx</code></strong>; instead, you interact with these services through their respective APIs or consoles without seeing the underlying infrastructure. However, you may define instance identifiers or cluster names like “db1” when provisioning databases, but this is customizable.</p>
</section>
<section id="self-managed-databases-on-ec2-named-as-db.t3.medium-etc." class="level4">
<h4 class="anchored" data-anchor-id="self-managed-databases-on-ec2-named-as-db.t3.medium-etc.">2. <strong>Self-Managed Databases on EC2</strong> (Named as <code>db.t3.medium</code>, etc.)</h4>
<p>If you <strong>self-manage</strong> a database on an EC2 instance, then you directly control the EC2 infrastructure. In this case, you would need to handle database installation, patching, backups, scaling, and networking yourself. You could launch a database server (e.g., MySQL, PostgreSQL) on an EC2 instance, and here you would see the EC2 instance types named in the <code>t3</code>, <code>m5</code>, <code>db.m6g</code>, or similar families.</p>
<p>Some instance types in RDS do use naming patterns like <code>db.m6g.large</code>, but this is specific to Amazon RDS and Aurora, which provide a <strong>managed environment on top of EC2</strong>. For example: - <code>db.t3.medium</code> (RDS instance) → This is an instance class used for databases in Amazon RDS, where <code>t3.medium</code> is an EC2 instance type optimized for general-purpose workloads, but <strong>the naming convention</strong> here indicates that it’s used for a database (<code>db.</code> prefix).</p>
</section>
</section>
<section id="summary" class="level3">
<h3 class="anchored" data-anchor-id="summary"><strong>Summary</strong>:</h3>
<ul>
<li><strong>Not all AWS databases</strong> run on EC2 instances. Services like DynamoDB and Aurora abstract the infrastructure so you don’t manage EC2s directly.</li>
<li>In <strong>Amazon RDS</strong>, the underlying instances may be named as <code>db.xxx</code> (e.g., <code>db.t3.medium</code>), but this is specific to the RDS service.</li>
<li>If you’re running a database <strong>directly on EC2</strong>, you choose standard EC2 instance types like <code>t3.medium</code>, and you’re responsible for managing the database yourself.</li>
</ul>
<hr>
</section>
<section id="q-so-a-postgresql-db-can-be-either-self-managed-databases-on-ec2-or-aws-managed" class="level3">
<h3 class="anchored" data-anchor-id="q-so-a-postgresql-db-can-be-either-self-managed-databases-on-ec2-or-aws-managed">6.1.3 Q) So a PostgreSQL DB can be either Self-Managed Databases on EC2 or AWS Managed ?</h3>
<p>Yes, in AWS, a PostgreSQL database can be deployed in two primary ways:</p>
<ol type="1">
<li><strong>Self-Managed on EC2</strong>:
<ul>
<li><strong>Description</strong>: You launch a PostgreSQL database on an EC2 instance, essentially creating a self-managed environment where you control the entire database stack.</li>
<li><strong>Responsibilities</strong>: You handle <strong>installation, configuration, patching, backup, scaling,</strong> and <strong>security management</strong>.</li>
<li><strong>Flexibility</strong>: Full control over the PostgreSQL settings, customizations, and extensions.</li>
<li><strong>Use Case</strong>: Ideal if you need custom configurations or PostgreSQL plugins that aren’t supported in managed services, or if you want to control the environment entirely.</li>
</ul></li>
<li><strong>AWS Managed PostgreSQL (Amazon RDS or Amazon Aurora)</strong>:
<ul>
<li><strong>Description</strong>: Amazon RDS for PostgreSQL and Amazon Aurora (PostgreSQL-compatible) are fully managed database services that AWS operates.</li>
<li><strong>Responsibilities</strong>: AWS handles <strong>provisioning, patching, backup, scaling,</strong> and <strong>automatic failover</strong>. You only need to manage data, schema, and performance tuning.</li>
<li><strong>Flexibility</strong>: Limited to configurations and extensions that AWS supports.</li>
<li><strong>Use Case</strong>: Best for users who prefer a managed, highly available, and scalable PostgreSQL solution without the administrative overhead.</li>
</ul></li>
</ol>
<p>So, <strong>self-managed on EC2</strong> gives you complete control and flexibility, whereas <strong>AWS-managed services</strong> offer ease of use and reduced operational burden at the cost of some customization flexibility.</p>
<hr>
</section>
</section>
<section id="managed-databases-in-amazon" class="level2">
<h2 class="anchored" data-anchor-id="managed-databases-in-amazon">6.2. Managed Databases in Amazon</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  DB((Databases))
  ADB[Databases in AWS]   
  M[AWS Managed Databases]
  UM[Self Managed Databases]
  OP[On-Prem Database]
  SM[Self-managed Database on Amazon EC2]

  M1[Amazon RDS]
  M2[Amazon Aurora]
  M3[Amazon DynamoDB]
  M4[Amazon Redshift]

  REL((Releational DB))   
  MEX1[MySQL]
  MEX2[PostgreSQL]
  MEX3[MariaDB]
  MEX4[SQLServer]
  MEX5[Oracle]

  MAA1[Aurora MySQL]
  MAA2[Aurora PostgreSQL]

  MAAP1((5x faster than RDS))
  MAAP2[Aurora Serverless]

  NOREL((NoSQL DB))   
  
  DDB1((Serverless))
  BOTH1((Charges based on usage and storage))
  BOTH2((High Availability))
  BOTH3((High Durable))
  BOTH4((Because: SSD-backed Instances))

  DB --&gt; ADB
  DB --&gt; OP

  ADB --&gt; M
  ADB --&gt; UM
  ADB --&gt; SM
  M --&gt; M1
  M --&gt; M2
  M --&gt; M3
  M --&gt; M4
  
  M1 --&gt; REL --&gt; MEX1
  REL --&gt; MEX2
  REL --&gt; MEX3
  REL --&gt; MEX4
  REL --&gt; MEX5

  M2 --&gt; MAA1 --&gt; MAAP1 
  M2 --&gt; MAA2 --&gt; MAAP1
  M2 --&gt; MAA1 --&gt; MAAP2
  M2 --&gt; MAA2 --&gt; MAAP2   
  MAAP2 --&gt; BOTH1
  BOTH2 --&gt; BOTH4
  BOTH3 --&gt; BOTH4

  M3 --&gt; NOREL --&gt; DDB1 --&gt; BOTH1 
  DDB1 --&gt; BOTH2 
  DDB1 --&gt; BOTH3
  MAAP2 --&gt; BOTH2 
  MAAP2 --&gt; BOTH3
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="decisions-to-make-when-choosing-a-db" class="level2">
<h2 class="anchored" data-anchor-id="decisions-to-make-when-choosing-a-db">6.3 Decisions to make when choosing a DB</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TB
  DB[Choices&lt;br&gt;in Selecing a DB&lt;br&gt;in AWS]
  ENG[Engine]
  STORAGE[Storage]
  COMPUTE[Compute]  

  ENG1((Commercial))
  ENG2((Open Source))
  ENG3((AWS Native))

  ENG1A[[Oracle&lt;br&gt;SQLServer]]
  ENG2A[[MySQL&lt;br&gt;PostgreSQL]]
  ENG3A[[Amazon Aurora]]

  
  STORAGE1[[EBS Volumes for RDS]]
  COMPUTE1[[Compute Instance &lt;br&gt;Size and Family &lt;br&gt;&lt;br&gt;db.xx?]]   

  TYPE1[Standard&lt;br&gt; &lt;code&gt;m&lt;/code&gt; classes?]
  TYPE2[Memory&lt;br&gt;Optimized&lt;br&gt;&lt;code&gt;r&lt;/code&gt; and &lt;code&gt;x` classes?]
  TYPE3[Burstable&lt;br&gt;&lt;code&gt;t&lt;/code&gt; classes?]

  S1[SSD?]
  S2[HDD?]
  S3[Magnetic Storage?] 

  DB --&gt; ENG --&gt; ENG1
  ENG --&gt; ENG2
  ENG --&gt; ENG3

  ENG1 --&gt; ENG1A
  ENG2 --&gt; ENG2A
  ENG3 --&gt; ENG3A

  DB --&gt; STORAGE --&gt; STORAGE1
  DB --&gt; COMPUTE --&gt; COMPUTE1

  STORAGE1 --&gt; S1
  STORAGE1 --&gt; S2
  STORAGE1 --&gt; S3   

  COMPUTE1 --&gt; TYPE1
  COMPUTE1 --&gt; TYPE2
  COMPUTE1 --&gt; TYPE3
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="where-are-database-instances-placed" class="level2">
<h2 class="anchored" data-anchor-id="where-are-database-instances-placed">6.4 Where are Database Instances placed?</h2>
<section id="rds-lies-inside-vpc-private-subnet" class="level3">
<h3 class="anchored" data-anchor-id="rds-lies-inside-vpc-private-subnet">RDS lies inside VPC Private Subnet</h3>
<p><img src="./images/dbs_inside_private_subnet.png" class="img-fluid"></p>
</section>
<section id="dynamo-db-lies-outside-vpc" class="level3">
<h3 class="anchored" data-anchor-id="dynamo-db-lies-outside-vpc">Dynamo DB lies outside VPC</h3>
<p><img src="./images/dynamo_DB_lies_outside_vpc.png" class="img-fluid"></p>
<p>Source: <a href="https://repost.aws/questions/QUsOBNlERPQZejZsyo3rtxGg/lambda-in-private-subnet-cannot-reach-dynamodb">AWS rePost</a></p>
</section>
</section>
<section id="backups-in-rds" class="level2">
<h2 class="anchored" data-anchor-id="backups-in-rds">6.5 Backups in RDS</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  B((Backups))
  A((Automated Backups))
  M((Manual Snapshots))

  K((Keep backups&lt;br&gt;for 0 to 35 days))
  ZERO((0 days means&lt;br&gt;no backup))   
  E((Enables in&lt;br&gt;point-in-time&lt;br&gt;recovery))

  P((For storage&lt;br&gt;longer than 35 days))

  Q((Which backup&lt;br&gt;to use))
  ANS((Both Automated &amp;&lt;br&gt;Manual combo))   

  B --&gt; A
  B --&gt; M

  A --&gt; K --&gt; ZERO --&gt; E

  M --&gt; P

  B --&gt; Q --&gt; ANS
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="redundancy-in-rds-via-multiple-avalaibility-zones" class="level2">
<h2 class="anchored" data-anchor-id="redundancy-in-rds-via-multiple-avalaibility-zones">6.6 Redundancy in RDS via Multiple Avalaibility Zones</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  RDS[[Amazon RDS]]
  subgraph AZ1
     subgraph subnetA
       C1[[Copy 1 of RDS]]
     end
  end

  subgraph AZ2
    subgraph subnetB
      C2[[Copy 2 of RDS]]
    end
  end
  RDS --&gt; C1
  RDS --&gt; C2
  %% Apply bright yellow background to subgraphs
  style AZ1 fill:#FFFF00,stroke:#333,stroke-width:2px
  style AZ2 fill:#FFFF00,stroke:#333,stroke-width:2px
  style subnetA fill:#FFFF00,stroke:#333,stroke-width:2px
  style subnetB fill:#FFFF00,stroke:#333,stroke-width:2px
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ul>
<li>Multi AZ deployment ensure <code>High Availability</code> and <code>High Durability</code></li>
</ul>
<hr>
</section>
<section id="encryption-of-ebs-volumes" class="level2">
<h2 class="anchored" data-anchor-id="encryption-of-ebs-volumes">6.7 Encryption of EBS Volumes</h2>
<blockquote class="blockquote">
<p>Consider this scenario: You are a cloud engineer who works at a company that uses Amazon Elastic Compute Cloud (Amazon EC2) instances and Amazon Elastic Block Store (Amazon EBS) volumes. The company is currently using unencrypted EBS volumes. You are tasked with migrating the data on these unencrypted EBS volumes to encrypted EBS volumes. What steps can you take to migrate the data to encrypted EBS volumes?</p>
</blockquote>
<pre><code>To migrate data from unencrypted to encrypted Amazon EBS volumes, follow these steps:

1. Create a snapshot of the unencrypted EBS volume.
2. Copy the snapshot, and during the copy process, select the option to encrypt the snapshot.
3. Once the encrypted snapshot is created, create a new EBS volume from the encrypted snapshot.
4. Detach the unencrypted volume from the EC2 instance.
5. Attach the new encrypted volume to the EC2 instance in place of the original.

This ensures seamless migration of data from unencrypted to encrypted EBS volumes without downtime.</code></pre>
<p>Source: One of the answers from a Cousera Forum</p>
<hr>
</section>
<section id="dynamodb" class="level2">
<h2 class="anchored" data-anchor-id="dynamodb">6.8 DynamoDB</h2>
<ul>
<li>Amazon DynamoDB is a fully managed NoSQL database service</li>
<li>With DynamoDB, you can create database tables that can store and retrieve any amount of data and serve any level of request traffic.</li>
<li>Data in DynamoDB stored in Key-Value pair format</li>
</ul>
<table class="caption-top table">
<thead>
<tr class="header">
<th>RDS</th>
<th>NoSQL DB</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Table</td>
<td>Table</td>
</tr>
<tr class="even">
<td>Row/Record</td>
<td>Item</td>
</tr>
<tr class="odd">
<td>Column</td>
<td>Attribute</td>
</tr>
</tbody>
</table>
<p>Like a <code>primary column</code> in RDS, a <code>primary attribute</code> is needed in Dynamo DB. An item could have any number of attributes</p>
<hr>
</section>
<section id="notes-from-database-quiz" class="level2">
<h2 class="anchored" data-anchor-id="notes-from-database-quiz">6.9 Notes from <code>Database</code> Quiz</h2>
<p><a href="https://github.com/salimt/Courses-/blob/master/AWS%20Cloud%20Solutions%20Architect%20Professional/c01-%20AWS%20Cloud%20Technical%20Essentials/w3-%20AWS%20Storage%20and%20Databases/Week%203%20Quiz%20_%20Coursera.pdf">Database Quiz</a></p>
<hr>
</section>
</section>
<section id="monitoring-in-aws" class="level1">
<h1>7. Monitoring in AWS</h1>
<p><strong>Why Monitoring?</strong> - Ensuring reliable performance - Are we using resources in a cost-effective way? - Preventive Healthcheck: Prevent outage by scaling infra or fixing issues automated - For security</p>
<section id="intro-to-aws-cloudwatch" class="level2">
<h2 class="anchored" data-anchor-id="intro-to-aws-cloudwatch">7.1 Intro to AWS CloudWatch</h2>
<section id="services-in-cloudwatch" class="level3">
<h3 class="anchored" data-anchor-id="services-in-cloudwatch">7.1.1 <strong>Services in CloudWatch</strong>:</h3>
<ul>
<li>Metrics</li>
<li>Alarms (when a metric goes above a threshold)</li>
<li>Logs</li>
</ul>
</section>
<section id="types-of-cloudwatch-metrics" class="level3">
<h3 class="anchored" data-anchor-id="types-of-cloudwatch-metrics">7.1.2 Types of Cloudwatch Metrics</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  M((Metrics))
  M1((Default &lt;br&gt;AWS Service Metrics))
  M2((Custom&lt;br&gt;Application Metrics))

  EX1((Eg -&lt;br&gt;No of hits to a Service))
  EX2((Eg -&lt;br&gt;Website Load Times))

  M --&gt; M1
  M --&gt; M2

  M1 --&gt; EX1
  M2 --&gt; EX2
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="types-of-monitoring" class="level3">
<h3 class="anchored" data-anchor-id="types-of-monitoring">7.1.3 Types of Monitoring</h3>
<ul>
<li>By default, with the AWS account, a <code>basic monitoring</code> is enabled (where every 5 minutes some metrics reach the CloudWatch dashboard)</li>
<li>A <code>detailed monitoring</code> at additional cost can be setup if say, metrics need to be logged every 1 minute instead of 5 minutes</li>
</ul>
</section>
<section id="how-to-filtercategorize-metrics" class="level3">
<h3 class="anchored" data-anchor-id="how-to-filtercategorize-metrics">7.1.4 How to filter/categorize Metrics</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TD
  M((Metrics))

  M1((Dimensions))
  M2((Namespaces))

  EX1((Key/Value pair-&lt;br&gt;FunctionName/MyLambda))   
  EX2((Metrics &lt;br&gt;belonging to&lt;br&gt;different categories-&lt;br&gt;aws/ec2,&lt;br&gt;aws/lambda))

  M --&gt; M1 --&gt; EX1
  M --&gt; M2 --&gt; EX2
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ul>
<li>A <code>Dimension</code> can be used to filter the metrics</li>
<li>A <code>Namespace</code> gives a logical grouping of the logs into different categories</li>
</ul>
</section>
<section id="custom-metrics" class="level3">
<h3 class="anchored" data-anchor-id="custom-metrics">7.1.5 Custom Metrics</h3>
<p>Using <code>boto3</code> sdk, you can ensure <code>custom metrics</code> like the following that reflect the health of your application can be sent to CloudWatch logs</p>
<ul>
<li>Web page Load Time</li>
<li>Amount of tasks handled</li>
</ul>
</section>
</section>
<section id="other-services-in-cloudwatch" class="level2">
<h2 class="anchored" data-anchor-id="other-services-in-cloudwatch">7.2 Other Services in CloudWatch</h2>
<section id="understand-the-cloudwatch-dashboards" class="level3">
<h3 class="anchored" data-anchor-id="understand-the-cloudwatch-dashboards">7.2.1 Understand the CloudWatch Dashboards</h3>
<ul>
<li>For viewing aggregated statistics of CloudWatch metrics</li>
</ul>
</section>
<section id="cloudwatch-logs" class="level3">
<h3 class="anchored" data-anchor-id="cloudwatch-logs">7.2.2 CloudWatch Logs</h3>
<ul>
<li>For lambda, easy to setup: Enable in IAM policy</li>
<li>For EC2, enable CW logs agent</li>
</ul>
</section>
<section id="cloudwatch-alarms" class="level3">
<h3 class="anchored" data-anchor-id="cloudwatch-alarms">7.2 CloudWatch Alarms</h3>
<ul>
<li>When a metric goes above a threshold, an alarm can be set</li>
</ul>
</section>
</section>
<section id="eventbridge" class="level2">
<h2 class="anchored" data-anchor-id="eventbridge">7.3 EventBridge</h2>
<ul>
<li>For a Rule-triggered workflow</li>
<li>Allows you to define rules that filter events based on specific patterns and forward those events to one or more targets.</li>
</ul>
<hr>
</section>
<section id="notes-from-monitoring-quiz" class="level2">
<h2 class="anchored" data-anchor-id="notes-from-monitoring-quiz">7.4 Notes from <code>Monitoring</code> Quiz</h2>
<ul>
<li>Amazon CloudWatch Widgets are used to view and analyze metrics in CloudWatch Dashboard</li>
</ul>
<p><img src="https://d2908q01vomqb2.cloudfront.net/972a67c48192728a34979d9a35164c1295401b71/2022/06/21/devops_1335_2.png" class="img-fluid"></p>
<ul>
<li><p>The 3 states of a metric alarm in CloudWatch: <code>OK</code> (metric is within the defined threshold), <code>Alarm</code> (metric is outside the defined threshold), <code>Insufficient_data</code> (metric does not have enough data to decide on the alarm)</p></li>
<li><p>VPC Network traffic (what network comes in and out of the VPC) can be measured by VPC Flow Logs</p></li>
<li><p>By default, Lambda functions run in a <code>Lambda-managed VPC that has internet access</code>. So one need not configure a VPC, Subenets and Security Group unless they want to have their lambda accessed from inside a VPC in their own account. In that case,m you can add a VPC configuration to a lambda function. This restricts the lambda function to resources within that VPC, unless the VPC has internet access</p></li>
</ul>
</section>
<section id="source-a-github-source-for-week-4-quiz" class="level2">
<h2 class="anchored" data-anchor-id="source-a-github-source-for-week-4-quiz">Source: <a href="https://github.com/salimt/Courses-/blob/master/AWS%20Cloud%20Solutions%20Architect%20Professional/c01-%20AWS%20Cloud%20Technical%20Essentials/w4-%20Monitoring%20and%20Optimizing%20Solutions%20on%20AWS/Week%204%20Quiz%20_%20Coursera.pdf">A github source for Week 4 Quiz</a></h2>
</section>
</section>
<section id="optimization-in-aws" class="level1">
<h1>8. Optimization in AWS</h1>
<section id="notation-in-nines" class="level2">
<h2 class="anchored" data-anchor-id="notation-in-nines">8.1 Notation in Nines:</h2>
<p><img src="./images/notation_in_nines.png" class="img-fluid"></p>
</section>
<section id="automatically-use-a-second-server-in-a-different-availability-zone" class="level2">
<h2 class="anchored" data-anchor-id="automatically-use-a-second-server-in-a-different-availability-zone">8.2 Automatically use a Second Server in a different availability zone</h2>
<pre class="{mermaid}"><code>flowchart TD
  client
  load_balancer
  subgraph AZ1
    server_1
  end
  subgraph AZ2
    server_2
    server_3
  end 

  client --&gt; load_balancer
  load_balancer --&gt; server_1
  load_balancer -- if server_1&lt;br&gt;goes down --&gt; server_2</code></pre>
</section>
<section id="types-of-high-availability-architecture" class="level2">
<h2 class="anchored" data-anchor-id="types-of-high-availability-architecture">8.3 Types of High Availability Architecture</h2>
<p><img src="./images/active-active-arch.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>Active-active clusters rely on a dedicated load balancer for routing or distributing traffic across all participating nodes. The manner by which a load balancer distributes traffic depends on the specific load balancing algorithm used. For instance, some load balancers distribute traffic using Round-Robin, Weighted Round Robin or Random algorithm.</p>
</blockquote>
<p><img src="./images/active-passive-arch.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p>Active-passive setups are common in disaster recovery (DR) strategies. In some DR strategies, the passive node is set up in a separate geographical location and then brought into play once the active node becomes incapacitated</p>
</blockquote>
<p>Source for the images and above content: <a href="https://www.jscape.com/blog/active-active-vs-active-passive-high-availability-cluster">An article on High Availability Architectures</a></p>
<pre class="{mermaid}"><code>flowchart TD
  HA[high_availability&lt;br&gt; architectures]
  AP[active_passive]
  AA[active_active]

  P1((for Stateful&lt;br&gt;Applications))
  P2((for Stateless&lt;br&gt;Applications))

  HA --&gt; AP
  HA --&gt; AA  

  AP --&gt; P1
  AA --&gt; P2 </code></pre>
<hr>
</section>
<section id="route-traffic-with-amazon-elastic-load-balancing" class="level2">
<h2 class="anchored" data-anchor-id="route-traffic-with-amazon-elastic-load-balancing">8.4 Route Traffic with Amazon Elastic Load Balancing</h2>
<section id="what-is-a-load-balancer" class="level3">
<h3 class="anchored" data-anchor-id="what-is-a-load-balancer">8.4.1 What is a Load Balancer:</h3>
<ul>
<li>Purpose is to distribute the requests across all the servers hosting the application using a load balancer</li>
</ul>
<p>Load balancing refers to the process of distributing tasks across a set of resources. In the case of the corporate directory application, the resources are EC2 instances that host the application, and the tasks are the different requests being sent. It’s time to distribute the requests across all the servers hosting the application using a load balancer.</p>
<p>To do this, you first need to enable the load balancer to take all of the traffic and redirect it to the backend servers based on an algorithm. The most popular algorithm is round-robin, which sends the traffic to each server one after the other.</p>
<p>A typical request for the application would start from the browser of the client. It’s sent to a load balancer. Then, it’s sent to one of the EC2 instances that hosts the application. The return traffic would go back through the load balancer and back to the client browser. Thus, the load balancer is directly in the path of the traffic.</p>
<p>Although it is possible to install your own software load balancing solution on EC2 instances, AWS provides a service for that called Elastic Load Balancing (ELB).</p>
</section>
<section id="features-of-elb" class="level3">
<h3 class="anchored" data-anchor-id="features-of-elb">8.4.2 FEATURES OF ELB</h3>
<p>The ELB service provides a major advantage over using your own solution to do load balancing, in that you don’t need to manage or operate it. It can distribute incoming application traffic across EC2 instances as well as containers, IP addresses, and AWS Lambda functions.</p>
<ul>
<li><p>The fact that ELB can load balance to IP addresses means that it can work in a hybrid mode as well, where it also load balances to on-premises servers.</p></li>
<li><p>ELB is highly available. The only option you have to ensure is that the load balancer is deployed across multiple Availability Zones.</p></li>
<li><p>In terms of scalability, ELB automatically scales to meet the demand of the incoming traffic. It handles the incoming traffic and sends it to your backend application.</p></li>
</ul>
</section>
<section id="health-checks" class="level3">
<h3 class="anchored" data-anchor-id="health-checks">8.4.3 HEALTH CHECKS</h3>
<p>Taking the time to define an appropriate health check is critical. Only verifying that the port of an application is open doesn’t mean that the application is working. It also doesn’t mean that simply making a call to the home page of an application is the right way either.</p>
<p>For example, the employee directory application depends on a database, and S3. The health check should validate all of those elements. One way to do that would be to create a monitoring webpage like “/monitor” that will make a call to the database to ensure it can connect and get data, and make a call to S3. Then, you point the health check on the load balancer to the “/monitor” page.</p>
<p><img src="./images/EC2_monitor_health_via_ELB.png" class="img-fluid"></p>
<p>After determining the availability of a new EC2 instance, the load balancer starts sending traffic to it. If ELB determines that an EC2 instance is no longer working, it stops sending traffic to it and lets EC2 Auto Scaling know. EC2 Auto Scaling’s responsibility is to remove it from the group and replace it with a new EC2 instance. Traffic only sends to the new instance if it passes the health check.</p>
<p>In the case of a scale down action that EC2 Auto Scaling needs to take due to a scaling policy, it lets ELB know that EC2 instances will be terminated. ELB can prevent EC2 Auto Scaling from terminating the EC2 instance until all connections to that instance end, while preventing any new connections. That feature is called <strong>connection draining</strong>.</p>
</section>
<section id="elb-components" class="level3">
<h3 class="anchored" data-anchor-id="elb-components">8.4.4 ELB COMPONENTS</h3>
<p><img src="./images/components_of_ELB.png" class="img-fluid"></p>
<ul>
<li><p>Listeners: The client connects to the listener. This is often referred to as client-side. To define a listener, a port must be provided as well as the protocol, depending on the load balancer type. There can be many listeners for a single load balancer.</p></li>
<li><p>Target groups: The backend servers, or server-side, is defined in one or more target groups. This is where you define the type of backend you want to direct traffic to, such as EC2 Instances, AWS Lambda functions, or IP addresses. Also, a health check needs to be defined for each target group.</p></li>
<li><p>Rules: To associate a target group to a listener, a rule must be used. Rules are made up of a condition that can be the source IP address of the client and a condition to decide which target group to send the traffic to.</p></li>
</ul>
</section>
<section id="application-load-balancer" class="level3">
<h3 class="anchored" data-anchor-id="application-load-balancer">8.5 APPLICATION LOAD BALANCER</h3>
<ul>
<li><strong>Granular routing:</strong> Routes traffic based on HTTP request data (URL path, host, headers, method, source IP).<br>
</li>
<li><strong>Direct responses:</strong> Can send fixed responses (e.g., HTML) or redirects (e.g., HTTP → HTTPS).<br>
</li>
<li><strong>TLS offloading:</strong> Handles HTTPS traffic with SSL certificates from IAM or AWS Certificate Manager (ACM).<br>
</li>
<li><strong>User authentication:</strong> Supports OpenID Connect and integrates with SAML, LDAP, Microsoft AD, etc.<br>
</li>
<li><strong>Traffic security:</strong> Uses security groups to restrict allowed IP ranges.<br>
</li>
<li><strong>Round-robin routing:</strong> Distributes requests evenly across servers.<br>
</li>
<li><strong>Least outstanding requests routing:</strong> Balances load by sending new requests to servers with fewer pending requests.<br>
</li>
<li><strong>Sticky sessions:</strong> Uses HTTP cookies to keep traffic from a client directed to the same backend server.<br>
</li>
<li><strong>Protocol scope:</strong> Supports HTTP and HTTPS only; use <strong>Network Load Balancer (NLB)</strong> for other protocols.</li>
</ul>
</section>
<section id="nlb" class="level3">
<h3 class="anchored" data-anchor-id="nlb">8.6 NLB</h3>
<ul>
<li><strong>Protocol support:</strong> Works with TCP, UDP, and TLS. Operates at the connection layer, so it does not understand HTTP/HTTPS.<br>
</li>
<li><strong>Flow hash routing:</strong> Routes traffic based on protocol, source/destination IP and port, and TCP sequence number.<br>
</li>
<li><strong>Sticky sessions:</strong> Based on the client’s source IP address (not cookies like ALB).<br>
</li>
<li><strong>TLS offloading:</strong> Can terminate TLS to reduce backend server load.<br>
</li>
<li><strong>High performance:</strong> Instantly handles millions of requests per second (no warm-up needed).<br>
</li>
<li><strong>Static and Elastic IPs:</strong> Supports direct client connections via fixed IP addresses—useful for DNS-restricted or firewall-rule scenarios.<br>
</li>
<li><strong>Source IP preservation:</strong> Passes the client’s real IP address to the backend (unlike ALB, which shows the LB’s IP).</li>
</ul>
<p><img src="./images/different_ELBs.png" class="img-fluid"></p>
<hr>
</section>
</section>
<section id="intro-to-amazon-ec2-auto-scaling" class="level2">
<h2 class="anchored" data-anchor-id="intro-to-amazon-ec2-auto-scaling">8.7 Intro to Amazon EC2 Auto Scaling</h2>
<p>Availability and reachability is improved by adding one more server. However, the entire system can again become unavailable if there is a capacity issue. Let’s look at that load issue with both types of systems we discussed, active-passive and active-active.</p>
<section id="vertical-scaling" class="level3">
<h3 class="anchored" data-anchor-id="vertical-scaling">8.7.1 <strong>Vertical Scaling</strong></h3>
</section>
<section id="active-passive-vs-active-active-systems-in-scaling" class="level3">
<h3 class="anchored" data-anchor-id="active-passive-vs-active-active-systems-in-scaling">Active-Passive vs Active-Active Systems in Scaling</h3>
<p>When too many requests are sent to a <strong>single active-passive system</strong>, the active server becomes unavailable and (hopefully) fails over to the passive server.<br>
But this doesn’t really solve the problem.</p>
<section id="why-active-passive-needs-vertical-scaling" class="level4">
<h4 class="anchored" data-anchor-id="why-active-passive-needs-vertical-scaling">Why Active-Passive Needs Vertical Scaling</h4>
<ul>
<li>Active-Passive systems rely on <strong>vertical scaling</strong> (increasing server size).<br>
</li>
<li>With <strong>EC2 instances</strong>, this means:
<ul>
<li>Choosing a larger instance type</li>
<li>Or switching to a different type<br>
</li>
</ul></li>
<li><strong>Limitation:</strong> Scaling can only be done when the instance is <strong>stopped</strong>.</li>
</ul>
</section>
<section id="steps-for-vertical-scaling-in-active-passive" class="level4">
<h4 class="anchored" data-anchor-id="steps-for-vertical-scaling-in-active-passive">Steps for Vertical Scaling in Active-Passive</h4>
<ol type="1">
<li><strong>Stop</strong> the passive instance (safe, since it’s not receiving traffic).<br>
</li>
<li><strong>Change</strong> the instance size or type, then <strong>start</strong> it again.<br>
</li>
<li><strong>Shift traffic</strong> to the passive instance (making it active).<br>
</li>
<li><strong>Stop, resize, and start</strong> the previous active instance (so both match).</li>
</ol>
</section>
<section id="drawbacks-of-active-passive-scaling" class="level4">
<h4 class="anchored" data-anchor-id="drawbacks-of-active-passive-scaling">Drawbacks of Active-Passive Scaling</h4>
<ul>
<li>Manual and repetitive work each time traffic changes.<br>
</li>
<li>A server can only scale <strong>vertically up to a limit</strong>.<br>
</li>
<li>Once the limit is reached, the only option is to:
<ul>
<li>Create <strong>another active-passive system</strong></li>
<li>Split requests and functionalities across them<br>
</li>
<li>(Often requires <strong>massive application rewriting</strong>)</li>
</ul></li>
</ul>
</section>
<section id="active-active-advantage" class="level4">
<h4 class="anchored" data-anchor-id="active-active-advantage">Active-Active Advantage</h4>
<ul>
<li>With <strong>active-active systems</strong>, scaling is <strong>horizontal</strong>.<br>
</li>
<li>Instead of making servers bigger, you simply <strong>add more servers</strong>.<br>
</li>
<li>This approach is easier, more flexible, and avoids rewriting applications.</li>
</ul>
</section>
</section>
<section id="horizontal-scaling" class="level3">
<h3 class="anchored" data-anchor-id="horizontal-scaling">8.7.2 <strong>Horizontal Scaling</strong></h3>
<ul>
<li><strong>Active-active system</strong> works well because the application is <strong>stateless</strong> (no client sessions stored on the server).
<ul>
<li>Scaling from 2 → 4 servers requires <strong>no code changes</strong>.<br>
</li>
<li>Just add or remove instances as needed.</li>
</ul></li>
<li><strong>Amazon EC2 Auto Scaling</strong> handles this automatically:
<ul>
<li>Creates new EC2 instances when traffic increases.<br>
</li>
<li>Terminates instances when traffic decreases.</li>
</ul></li>
<li><strong>Key advantage:</strong>
<ul>
<li>Active-active + stateless apps = <strong>true scalability</strong>.<br>
</li>
<li>Much more efficient compared to active-passive systems.</li>
</ul></li>
</ul>
</section>
<section id="integrate-elb-with-ec2-auto-scaling" class="level3">
<h3 class="anchored" data-anchor-id="integrate-elb-with-ec2-auto-scaling">8.7.3 <strong>Integrate ELB with EC2 Auto Scaling</strong></h3>
<section id="elb-and-auto-scaling-integration" class="level4">
<h4 class="anchored" data-anchor-id="elb-and-auto-scaling-integration">ELB and Auto Scaling Integration</h4>
<p>The <strong>ELB service</strong> integrates seamlessly with <strong>EC2 Auto Scaling</strong>. As soon as a new EC2 instance is added to or removed from the EC2 Auto Scaling group, ELB is notified. However, before it can send traffic to a new EC2 instance, it needs to validate that the application running on that EC2 instance is available.</p>
<p>This validation is done via the <strong>health checks feature of ELB</strong>. Monitoring is an important part of load balancers, as it should route traffic to only healthy EC2 instances. That’s why ELB supports two types of health checks:</p>
<ul>
<li><strong>TCP Health Check</strong>: Establishing a connection to a backend EC2 instance using TCP, and marking the instance as available if that connection is successful.<br>
</li>
<li><strong>HTTP/HTTPS Health Check</strong>: Making an HTTP or HTTPS request to a webpage that you specify, and validating that an HTTP response code is returned.</li>
</ul>
<hr>
</section>
<section id="traditional-scaling-vs-auto-scaling" class="level4">
<h4 class="anchored" data-anchor-id="traditional-scaling-vs-auto-scaling">Traditional Scaling vs Auto Scaling</h4>
<section id="traditional-scaling" class="level5">
<h5 class="anchored" data-anchor-id="traditional-scaling">Traditional Scaling</h5>
<ul>
<li>With a traditional approach to scaling, you <strong>buy and provision enough servers</strong> to handle traffic at its peak.<br>
</li>
<li>At low traffic times (e.g., nighttime), there is <strong>more capacity than traffic</strong>.<br>
</li>
<li>This leads to <strong>wasted money</strong>, since turning off servers only saves electricity, not provisioning costs.</li>
</ul>
</section>
<section id="cloud-auto-scaling-approach" class="level5">
<h5 class="anchored" data-anchor-id="cloud-auto-scaling-approach">Cloud (Auto Scaling) Approach</h5>
<ul>
<li>Cloud uses a <strong>pay-as-you-go</strong> model.<br>
</li>
<li>It’s important to <strong>turn off unused services</strong>, especially EC2 instances that run On-Demand.<br>
</li>
<li>Manual scaling can work for predictable traffic, but unusual spikes cause:
<ul>
<li><strong>Over-provisioning</strong> → wasted resources.<br>
</li>
<li><strong>Under-provisioning</strong> → loss of customers.</li>
</ul></li>
</ul>
</section>
<section id="solution-ec2-auto-scaling" class="level5">
<h5 class="anchored" data-anchor-id="solution-ec2-auto-scaling">Solution → <strong>EC2 Auto Scaling</strong></h5>
<ul>
<li>Automatically adds and removes EC2 instances <strong>based on conditions you define</strong>.<br>
</li>
<li>Ensures the right number of EC2 instances are running at any time.</li>
</ul>
</section>
</section>
</section>
<section id="using-amazon-ec2-auto-scaling" class="level3">
<h3 class="anchored" data-anchor-id="using-amazon-ec2-auto-scaling">8.7.4 <strong>Using Amazon EC2 Auto Scaling</strong></h3>
<p>The EC2 Auto Scaling service works to add or remove capacity to keep a steady and predictable performance at the lowest possible cost. By adjusting the capacity to exactly what your application uses, you only pay for what your application needs. And even with applications that have steady usage, EC2 Auto Scaling can help with fleet management. If there is an issue with an EC2 instance, EC2 Auto Scaling can automatically replace that instance. This means that EC2 Auto Scaling helps both to scale your infrastructure and ensure high availability.</p>
</section>
</section>
<section id="configure-ec2-auto-scaling-components" class="level2">
<h2 class="anchored" data-anchor-id="configure-ec2-auto-scaling-components">8.8 <strong>Configure EC2 Auto Scaling Components</strong></h2>
<p>There are three main components to EC2 Auto Scaling.</p>
<blockquote class="blockquote">
<ol type="1">
<li><strong>Launch template or configuration</strong>:</li>
</ol>
<ul>
<li><em>What resource</em> should be automatically scaled?</li>
<li>A configuration of parameters are used to create a EC2 instance</li>
<li>AMI</li>
<li>Security Group associated with the EC2 Instance</li>
<li>EC2 Instance Type</li>
<li>Additional EBS Volumes</li>
<li>more</li>
</ul>
</blockquote>
<ul>
<li>All of these information are needed by <code>EC2 Auto Scaling</code> to create the EC2 instances on our behalf</li>
</ul>
<blockquote class="blockquote">
<ol start="2" type="1">
<li><strong>EC2 Auto Scaling Group</strong> (ASG): <em>Where</em> should the resources be deployed? and How many should be deployed?</li>
</ol>
</blockquote>
<p>Where do you deploy the EC2 instances created via <code>EC2 Auto Scaling</code> - VPC - Subnets across different Availability Zones - Type of EC2 instance purchase: On-demand, Spot ?</p>
<p>How many EC2 instances should the ASG create? - Minimum - Maximum - Desired</p>
<blockquote class="blockquote">
<ol start="3" type="1">
<li><strong>Scaling policies</strong>: <em>When</em> should the resources be added or removed?</li>
</ol>
</blockquote>
<ul>
<li>Scaling policy can be set based on metrics like CPU utilization, measured via a CloudWatch Alarm</li>
</ul>
<section id="learn-about-launch-templates" class="level3">
<h3 class="anchored" data-anchor-id="learn-about-launch-templates">8.8.1 <strong>Learn About Launch Templates</strong></h3>
<p><img src="./images/launch_templates.png" class="img-fluid"></p>
<ul>
<li>There are multiple parameters required to create EC2 instances:
<ul>
<li>Amazon Machine Image (AMI) ID<br>
</li>
<li>Instance type<br>
</li>
<li>Security group<br>
</li>
<li>Additional Amazon Elastic Block Store (EBS) volumes<br>
</li>
<li>And more…</li>
</ul></li>
<li>All this information is also required by <strong>EC2 Auto Scaling</strong> to create the EC2 instance on your behalf when there is a need to scale.<br>
</li>
<li>This information is stored in a <strong>launch template</strong>.</li>
</ul>
<hr>
<section id="launch-template-usage" class="level4">
<h4 class="anchored" data-anchor-id="launch-template-usage">Launch Template Usage</h4>
<ul>
<li>You can use a <strong>launch template</strong> to manually launch an EC2 instance.<br>
</li>
<li>You can also use it with <strong>EC2 Auto Scaling</strong>.<br>
</li>
<li>It supports <strong>versioning</strong>, which allows:
<ul>
<li>Quickly rolling back if there was an issue.<br>
</li>
<li>Specifying a default version of your launch template.<br>
</li>
<li>Iterating on a new version while other users continue launching EC2 instances with the default version.</li>
</ul></li>
</ul>
<hr>
</section>
<section id="ways-to-create-a-launch-template" class="level4">
<h4 class="anchored" data-anchor-id="ways-to-create-a-launch-template">Ways to Create a Launch Template</h4>
<ol type="1">
<li><strong>Using an existing EC2 instance</strong> (fastest way, since all settings are already defined).<br>
</li>
<li><strong>From an existing template or a previous version</strong> of a launch template.<br>
</li>
<li><strong>From scratch</strong>, where you need to define:
<ul>
<li>AMI ID<br>
</li>
<li>Instance type<br>
</li>
<li>Key pair<br>
</li>
<li>Security group<br>
</li>
<li>Storage<br>
</li>
<li>Resource tags</li>
</ul></li>
</ol>
<hr>
</section>
<section id="note" class="level4">
<h4 class="anchored" data-anchor-id="note">Note</h4>
<ul>
<li>Another way to define what Amazon EC2 Auto Scaling needs to scale is by using <strong>a launch configuration</strong>.<br>
</li>
<li>However, a launch configuration:
<ul>
<li>Does <strong>not</strong> support versioning.<br>
</li>
<li>Cannot be created from an existing EC2 instance.<br>
</li>
</ul></li>
<li>For these reasons, and to ensure that you get the latest features, <strong>use a launch template instead of a launch configuration</strong>.</li>
</ul>
</section>
</section>
<section id="get-to-know-ec2-auto-scaling-groups" class="level3">
<h3 class="anchored" data-anchor-id="get-to-know-ec2-auto-scaling-groups">8.8.2 Get to Know EC2 Auto Scaling Groups</h3>
<ul>
<li>The next component that EC2 Auto Scaling needs is an <strong>EC2 Auto Scaling Group (ASG)</strong>.
<ul>
<li>An ASG enables you to define where EC2 Auto Scaling deploys your resources.<br>
</li>
<li>This is where you specify the <strong>Amazon Virtual Private Cloud (VPC)</strong> and <strong>subnets</strong> the EC2 instance should be launched in.</li>
</ul></li>
<li>EC2 Auto Scaling takes care of creating the EC2 instances across the subnets.
<ul>
<li>It’s important to select <strong>at least two subnets</strong> that are across different <strong>Availability Zones (AZs)</strong>.</li>
</ul></li>
<li>ASGs also allow you to specify the <strong>type of purchase</strong> for the EC2 instances:
<ul>
<li><strong>On-Demand only</strong><br>
</li>
<li><strong>Spot only</strong><br>
</li>
<li><strong>Combination of On-Demand and Spot</strong> (lets you take advantage of Spot instances with minimal admin overhead).</li>
</ul></li>
<li>To specify how many instances EC2 Auto Scaling should launch, configure three <strong>capacity settings</strong> for the group size:
<ul>
<li><strong>Minimum</strong>: The minimum number of instances running in your ASG, even if the threshold for lowering the amount of instances is reached.<br>
</li>
<li><strong>Maximum</strong>: The maximum number of instances running in your ASG, even if the threshold for adding new instances is reached.<br>
</li>
<li><strong>Desired capacity</strong>: The target number of instances in your ASG.
<ul>
<li>This number must be within or equal to the minimum and maximum.<br>
</li>
<li>EC2 Auto Scaling automatically adds or removes instances to match this number.</li>
</ul></li>
</ul></li>
</ul>
<p><img src="./images/mini_desired_max_capacity.png" class="img-fluid"></p>
<ul>
<li><strong>Minimum capacity</strong>
<ul>
<li>EC2 Auto Scaling keeps removing EC2 instances until it reaches the minimum capacity.<br>
</li>
<li>Best practice: set at least <strong>two instances</strong> to ensure high availability.<br>
</li>
<li>Even if scaling down is instructed, EC2 Auto Scaling won’t remove instances below the minimum.</li>
</ul></li>
<li><strong>Maximum capacity</strong>
<ul>
<li>When traffic grows, EC2 Auto Scaling keeps adding instances.<br>
</li>
<li>Costs will also increase as more instances are added.<br>
</li>
<li>Setting a <strong>maximum</strong> ensures the number of instances doesn’t exceed your budget.</li>
</ul></li>
<li><strong>Desired capacity</strong>
<ul>
<li>This is the number of EC2 instances created when the Auto Scaling group is launched.<br>
</li>
<li>If the desired capacity decreases, Auto Scaling removes the <strong>oldest instance</strong> by default.<br>
</li>
<li>If it increases, Auto Scaling <strong>creates new instances</strong> using the launch template.</li>
</ul></li>
<li><strong>Ensure availability with EC2 Auto Scaling</strong>
<ul>
<li>Minimum, maximum, and desired capacity can be set to <strong>different values</strong> for dynamic scaling.<br>
</li>
<li>If you want Auto Scaling only for <strong>fleet management</strong>, configure all three to the <strong>same value</strong> (e.g., 4).<br>
</li>
<li>EC2 Auto Scaling will <strong>replace unhealthy instances</strong> to always maintain that count, ensuring high availability.</li>
</ul></li>
</ul>
<p><img src="./images/mini_desired_max_capacity_2.png" class="img-fluid"></p>
</section>
<section id="enable-automation-with-scaling-policies" class="level3">
<h3 class="anchored" data-anchor-id="enable-automation-with-scaling-policies">8.8.3 <strong>Enable Automation with Scaling Policies</strong></h3>
<ul>
<li><p><strong>ASG Desired Capacity</strong></p>
<ul>
<li>By default, ASG stays at its initial desired capacity.<br>
</li>
<li>Desired capacity can be <strong>manually changed</strong> or adjusted with <strong>scaling policies</strong>.<br>
</li>
<li>Scaling policies use <strong>CloudWatch metrics &amp; alarms</strong> (e.g., CPU &gt; 70%) to trigger scaling actions.</li>
</ul></li>
<li><p><strong>Types of Scaling Policies</strong></p>
<ul>
<li><strong>Simple Scaling Policy</strong>
<ul>
<li>Uses a <strong>CloudWatch alarm</strong> to add/remove instances or set desired capacity.<br>
</li>
<li>Can use a <strong>fixed number</strong> or a <strong>percentage of group size</strong>.<br>
</li>
<li>Includes a <strong>cooldown period</strong> to avoid premature scaling while new instances boot.<br>
</li>
<li>Limitation: can’t handle multiple thresholds (e.g., 65% vs 85%).</li>
</ul></li>
<li><strong>Step Scaling Policy</strong>
<ul>
<li>Handles <strong>multiple thresholds</strong> with incremental actions.<br>
</li>
<li>Example:
<ul>
<li>+2 instances if CPU ≥ 85%<br>
</li>
<li>+4 instances if CPU ≥ 95%<br>
</li>
</ul></li>
<li>Responds to alarms even if scaling activity is still in progress.</li>
</ul></li>
<li><strong>Target Tracking Scaling Policy</strong>
<ul>
<li>Simplest and most dynamic option.<br>
</li>
<li>Set a <strong>target value</strong> (e.g., avg CPU %, network in/out, request count).<br>
</li>
<li>Automatically creates and manages the required <strong>CloudWatch alarms</strong>.</li>
</ul></li>
</ul></li>
</ul>
<hr>
</section>
</section>
<section id="optimization-notes-from-quiz" class="level2">
<h2 class="anchored" data-anchor-id="optimization-notes-from-quiz">8.9 <code>Optimization</code> Notes from Quiz</h2>
<ul>
<li>3 Components of <code>EC2 AutoScaling</code>: 1) Launch Template 2) <code>EC2 AutoScaling Group</code> , 3) <code>Scaling Policy</code></li>
<li>A ELB automatically scales to meet incoming demand</li>
<li>When a user uses ELB with an Auto Scaling Group, there is no need to manually register the individual EC2 instances scaled with the load balancer</li>
<li>If you are routing to targets based on a rule that uses the path of the request, you are using <code>Application Load Balancer</code></li>
<li>If you are running low-latency apps, real time games or IoT applications, use <code>Network Load Balancer</code> (if routing is NOT based on content-based routing)</li>
<li>An application can be scaled <code>Vertically</code> by adding more firepower (compute capacity) to the existing machine OR by scaling <code>horizontally</code> by adding more EC2 instances of similar compute capacity</li>
</ul>
<p>Source: <a href="https://github.com/salimt/Courses-/blob/master/AWS%20Cloud%20Solutions%20Architect%20Professional/c01-%20AWS%20Cloud%20Technical%20Essentials/w4-%20Monitoring%20and%20Optimizing%20Solutions%20on%20AWS/Week%204%20Quiz%20_%20Coursera.pdf">A github source for Week 4 Quiz</a></p>
<hr>
</section>
</section>
<section id="additional-references" class="level1">
<h1>9. Additional References</h1>
<ul>
<li><p>AWS Coursera Course on <code>AWS Technical Essentials</code></p></li>
<li><p><a href="https://chatgpt.com/share/67077451-51e0-800f-ad65-98c6b109e330">My ChatGPT Interactions on Networking in AWS</a></p></li>
<li><p><a href="https://chatgpt.com/share/6703b5e9-1154-800f-8c1d-03f16c3ae6e0">My ChatGPT Interactions on Computing in AWS</a></p></li>
<li><p><a href="https://chatgpt.com/share/6728503c-722c-800f-a6fc-f16d4e1888f3">My ChatGPT Interactions on Storage Services in AWS</a></p></li>
<li><p><a href="https://chatgpt.com/share/67285596-cb00-800f-b999-f317d4ae56c4">My ChatGPT Interactions on Database Services in AWS</a></p></li>
</ul>
<blockquote class="blockquote">
<p>Disclaimer: Beware: Not all information provided by ChatGPT is accurate. They get wrong quite a lot in nuanced sub-topics.</p>
</blockquote>
<hr>
</section>
<section id="plagiarism-disclosure" class="level1">
<h1><strong>Plagiarism Disclosure</strong>: <br></h1>
<blockquote class="blockquote">
<ul>
<li>The below notes contain my own writing like mermaid charts and bullet points combined with copy-paste paragraph notes from Coursera course (not to be misjudged for plagiarism). <br></li>
<li>Most pics are from Coursera course. If a pic is taken from outside, source is cited below it <br></li>
<li>I have plenty of interactions with ChatGPT weaved into appropriate sections for better reading <br></li>
<li>The below notes are purely to refresh my memory when I take up any AWS exam in future. Unlike other articles, the below notes are not meant to be reviewed from the pov of plagiarism.</li>
</ul>
</blockquote>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/senthilkumarm1901\.github\.io\/learn_by_blogging\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<script src="https://utteranc.es/client.js" repo="senthilkumarm1901/QuartoBlogComments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->




</body></html>